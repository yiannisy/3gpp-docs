
5 Elementary procedures for circuit-switched Call Control
=========================================================

5.1 Overview
------------

### 5.1.1 General

This subclause describes the call control (CC) protocol, which is one of
the protocols of the Connection Management (CM) sublayer (see
3GPP TS 24.007 \[20\]).

Every mobile station must support the call control protocol. If a mobile
station does not support any bearer capability at all then it shall
respond to a SETUP message with a RELEASE COMPLETE message as specified
in subclause 5.2.2.2.

In Iu mode only, integrity protected signalling (see subclause 4.1.1.1.1
of the present document and in general, see 3GPP TS 33.102 \[5a\]) is
mandatory. In Iu mode only, all protocols shall use integrity protected
signalling. Integrity protection of all CC signalling messages is the
responsibility of lower layers. It is the network which activates
integrity protection. This is done using the security mode control
procedure (3GPP TS 25.331 \[23c\] and 3GPP TS 44.118 \[111\]).

In the call control protocol, more than one CC entity are defined. Each
CC entity is independent from each other and shall communicate with the
correspondent peer entity using its own MM connection. Different CC
entities use different transaction identifiers.

With a few exceptions the present document describes the call control
protocol only with regard to two peer entities. The call control
entities are described as communicating finite state machines which
exchange messages across the radio interface and communicate internally
with other protocol (sub)layers. This description is only normative as
far as the consequential externally observable behaviour is concerned.

Certain sequences of actions of the two peer entities compose
\"elementary procedures\" which are used as a basis for the description
in this subclause. These elementary procedures may be grouped into the
following classes:

\- call establishment procedures;

\- call clearing procedures;

\- call information phase procedures;

\- miscellaneous procedures.

The terms \"mobile originating\" or \"mobile originated\" (MO) are used
to describe a call initiated by the mobile station. The terms \"mobile
terminating\" or \"mobile terminated\" (MT) are used to describe a call
initiated by the network.

Figure 5.1a/3GPP TS 24.008 gives an overview of the main states and
transitions on the mobile station side.

The MS side extension figure 5.1a.1/3GPP TS 24.008 shows how for the
Network Initiated MO call the MS reaches state U1.0 from state U0
\$(CCBS)\$.

Figure 5.1a.2/3GPP TS 24.008 illustrates the additional state
transitions possible in the MS due to SRVCC handovers from PS to CS or
5G-SRVCC handover from NG-RAN to UTRAN.

Figure 5.1a.3/3GPP TS 24.008 illustrates the additional state
transitions possible in the MS due to SRVCC handovers from CS to PS.

Figure 5.1b/3GPP TS 24.008 gives an overview of the main states and
transitions on the network side.

The Network side extension figure 5.1b.1/3GPP TS 24.008 shows for
Network Initiated MO Calls the Network reaches state N1.0 from state N0
\$(CCBS)\$.Figure 5.1b.2/3GPP TS 24.008 illustrates the additional state
transitions possible in the network due to SRVCC handovers from PS to CS
or 5G-SRVCC handover from NG-RAN to UTRAN.

Figure 5.1b.3/3GPP TS 24.008 illustrates the additional state
transitions possible in the network due to SRVCC handovers from CS to
PS.

Figure 5.1a/3GPP TS 24.008: Overview call control protocol/MS side

![](media/image23.emf){width="6.694444444444445in"
height="8.152777777777779in"}Figure 5.1a.1/3GPP TS 24.008: Overview call
control protocol/MS side, extension

Figure 5.1a.2/3GPP TS 24.008: Overview call control protocol/MS side,
extension for SRVCC from PS to CS or 5G-SRVCC handover from NG-RAN to
UTRAN

![](media/image25.emf){width="6.722222222222222in"
height="0.8055555555555556in"}

Figure 5.1a.3/3GPP TS 24.008: Overview call control protocol/MS side,
extension for SRVCC from CS to PS

![](media/image26.emf){width="8.277777777777779in"
height="5.263888888888889in"}

Figure 5.1b/3GPP TS 24.008 Overview call control protocol/Network side

![](media/image27.emf){width="3.8194444444444446in"
height="6.555555555555555in"}

Figure 5.1b.1/3GPP TS 24.008 Overview call control protocol/Network
side, extension

Figure 5.1b.2/3GPP TS 24.008: Overview call control protocol/Network
side, extension for SRVCC from PS to CS or 5G-SRVCC handover from NG-RAN
to UTRAN

![](media/image29.emf){width="6.694444444444445in"
height="0.8055555555555556in"}

Figure 5.1b.3/3GPP TS 24.008: Overview call control protocol/Network
side, extension for SRVCC from CS to PS

### 5.1.2 Call Control States

#### 5.1.2.1 Call states at the mobile station side of the interface

The states which may exist on the mobile station side of the radio
interface are defined in this subclause.

NOTE: States U0.1, U0.2, U0.3, U0.4, U0.5, U0.6, U26, and U27 are
3GPP specific. All other states are ITU-T defined.

##### 5.1.2.1.1 Null (State U0)

No call exists.

##### 5.1.2.1.2 MM Connection pending (U0.1)

This state exists for a mobile originating call, when the mobile station
requests the establishment of a MM connection.

##### 5.1.2.1.2a CC prompt present (U0.2) \$(CCBS)\$

This state exists for a mobile originating call when the network has
prompted the mobile station to establish a CC connection but the mobile
station has not yet responded.

NOTE: This state is transient.

##### 5.1.2.1.2b Wait for network information (U0.3) \$(CCBS)\$

This state exists for a mobile originating call when the mobile station
has responded to the prompt from the network to establish a CC
connection and the mobile station is waiting for further information
from the network.

##### 5.1.2.1.2c CC-Establishment present (U0.4) \$(CCBS)\$

This state exists for a mobile originating call when the mobile station
has received a CC-establishment request but has not yet responded.

NOTE: This state is transient.

##### 5.1.2.1.2d CC-Establishment confirmed (U0.5) \$(CCBS)\$

This state exists for a mobile originating call when the mobile station
has sent the acknowledgement that the mobile station has received all
the CC information that is needed.

##### 5.1.2.1.2e Recall present (U0.6) \$(CCBS)\$

This state exists for a mobile originating call when the mobile station
has received a recall request but has not yet responded.

NOTE: This state is transient.

##### 5.1.2.1.3 Call initiated (U1)

This state exists for a mobile originating call, when the MS requests
call establishment from the network.

##### 5.1.2.1.4 Mobile originating call proceeding (U3)

This state exists for a mobile originating call when the mobile station
has received acknowledgement that the network has received all call
information necessary to effect call establishment.

##### 5.1.2.1.5 Call delivered (U4)

This state exists for a mobile originating call, when the calling mobile
station has received an indication that remote user alerting has been
initiated.

##### 5.1.2.1.6 Call present (U6)

This state exists for a mobile terminating call when the mobile station
has received a call establishment request but has not yet responded.

##### 5.1.2.1.7 Call received (U7)

This state exists for a mobile terminating call when the mobile station
has indicated alerting but has not yet answered.

##### 5.1.2.1.8 Connect Request (U8)

This state exists for a mobile terminating call, when the mobile station
has answered the call and is waiting to be awarded the call.

##### 5.1.2.1.9 Mobile terminating call confirmed (U9)

This state exists for a mobile terminating call when the mobile station
has sent acknowledgement that the mobile station has received all call
information necessary to effect call establishment.

##### 5.1.2.1.10 Active (U10)

This state exists for a mobile terminating call when the MS has answered
the call. This state exists for a mobile originating call when the MS
has received an indication that the remote user has answered the call..

##### 5.1.2.1.11 Disconnect request (U11)

This state exists when the mobile station has requested the network to
clear the end-to-end connection (if any) and is waiting for a response.

##### 5.1.2.1.12 Disconnect indication (U12)

This state exists when the mobile station has received an invitation to
disconnect because the network has disconnected the end-to-end
connection (if any).

##### 5.1.2.1.13 Release request (U19)

This state exists when the MS has requested the network to release and
is waiting for a response.

##### 5.1.2.1.14 Mobile originating modify (U26)

This state exists when the mobile station has sent a request to the
network for a new mode but has not yet received an answer.

##### 5.1.2.1.15 Mobile terminating modify (U27)

This state exists when the mobile station has received a request from
the network for a new mode and has not yet sent a response to this
request.

#### 5.1.2.2 Network call states

NOTE: States N0.1, N0.2, N0.3, N0.4, N0.5, N0.6, N26, N27, N28, N3a,
N4,a, N7a, and N9a are 3GPP specific. All other states are ITU-T
defined.

The call states that may exist on the network side of the radio
interface are defined in this subclause.

##### 5.1.2.2.1 Null (State N0)

No call exists.

##### 5.1.2.2.2 MM connection pending (N0.1)

This state exists for a mobile terminating call, when the network
requests the establishment of a MM connection.

##### 5.1.2.2.2a CC connection pending (N0.2) \$(CCBS)\$

This state exists for a mobile originating call when the network has
requested the mobile station to establish a CC connection.

##### 5.1.2.2.2b Network answer pending (N0.3) \$(CCBS)\$

This state exists for a mobile originating call when the mobile station
has established a CC connection upon the request of the network, but the
network has not yet informed the mobile station of the reason for the
network\'s action.

##### 5.1.2.2.2c CC-Establishment present (N0.4) \$(CCBS)\$

This state exists for a mobile originating call when the network has
sent a CC establishment request but has not yet received a satisfactory
response.

##### 5.1.2.2.2d CC-Establishment confirmed (N0.5) \$(CCBS)\$

This state exists for a mobile originating call when the network has
received acknowledgement that the mobile station has received all call
information necessary to effect call establishment.

##### 5.1.2.2.2e Recall present (N0.6) \$(CCBS)\$

This state exists for a mobile originating call when the network has
sent a recall request but has not yet received a satisfactory response.

##### 5.1.2.2.3 Call initiated (N1)

This state exists for a mobile originating call when the network has
received a call establishment request but has not yet responded.

##### 5.1.2.2.4 Mobile originating call proceeding (N3)

This state exists for a mobile originating call when the network has
sent acknowledgement that the network has received all call information
necessary to effect call establishment.

##### 5.1.2.2.5 Call delivered (N4)

This state exists for a mobile originating call when the network has
indicated that remote user alerting has been initiated.

##### 5.1.2.2.6 Call present (N6)

This state exists for a mobile terminating call when the network has
sent a call establishment request but has not yet received a
satisfactory response.

##### 5.1.2.2.7 Call received (N7)

This state exists for a mobile terminating call when the network has
received an indication that the mobile station is alerting but has not
yet received an answer.

##### 5.1.2.2.8 Connect request (N8)

This state exists for a mobile terminating call when the network has
received an answer but the network has not yet awarded the call.

##### 5.1.2.2.9 Mobile terminating call confirmed (N9)

This state exists for a mobile terminating call when the network has
received acknowledgement that the mobile station has received all call
information necessary to effect call establishment.

##### 5.1.2.2.10 Active (N10)

This state exists for a mobile terminating call when the network has
awarded the call to the called mobile station. This state exists for a
mobile originating call when the network has indicated that the remote
user has answered the call.

##### 5.1.2.2.11 Not used

##### 5.1.2.2.12 Disconnect indication (N12)

This state exists when the network has disconnected the end- to-end
connection (if any) and has sent an invitation to disconnect the mobile
station to network connection.

##### 5.1.2.2.13 Release request (N19)

This state exists when the network has requested the MS to release and
is waiting for a response.

##### 5.1.2.2.14 Mobile originating modify (N26)

This state exists when the network has received a request from the
mobile station for a new mode but has not yet sent a response.

##### 5.1.2.2.15 Mobile terminating modify (N27)

This state exists when the network has sent a request to the mobile
station for a new mode but has not yet received an answer.

##### 5.1.2.2.16 Connect Indication (N28)

This state exists for a mobile originating call when the network has
indicated that the remote user has answered the call and the network is
waiting for acknowledgement by the mobile station.

5.2 Call establishment procedures
---------------------------------

Establishment of a call is initiated by request of upper layer in either
the mobile station or the network; it consists of:

\- the establishment of a CC connection between the mobile station and
the network;

\- the activation of the codec or interworking function.

Whenever it is specified in the present document clause 5 that the
mobile station shall attach the user connection, this means that the
mobile station shall activate the codec or interworking function as soon
as an appropriate channel is available. The mobile station shall
de-activate the codec or interworking function whenever an appropriate
channel is no longer available. As soon as an appropriate channel is
(again) available, the codec or interworking function shall be
re-activated. If a new order to attach the user connection is received,
the new order shall supersede the previous one.

A channel shall be considered as appropriate if it is consistent with
the possibly negotiated bearer capability applicable for the actual
phase of the call. The mobile station shall not consider a channel as
not appropriate because the type of the channel (full rate/half rate) is
not the preferred one. If:

\- the user connection has to be attached but no appropriate channel is
available for a contiguous time of 30 seconds; or if

\- the codec or interworking function is de-activated for a contiguous
time of 30 seconds;

then the mobile station may initiate call clearing.

Upon request of upper layers to establish a call, restricting conditions
for the establishment of the call are examined. These restricting
conditions concern the states of parallel CC entities and are defined
elsewhere. If these restricting conditions are fulfilled, the call
establishment is rejected. Otherwise a CC entity in state U0, \"null\",
is selected to establish the call. It initiates the establishment by
requesting the MM sublayer to establish an MM connection.

In Iu mode, if the lower layers indicate the release of a radio access
bearer, whereas the corresponding call is still active, the MS shall not
automatically initiate the release of that call.

### 5.2.1 Mobile originating call establishment

The call control entity of the mobile station initiates establishment of
a CC connection by requesting the MM sublayer to establish a mobile
originating MM connection and entering the \"MM connection pending\"
state. There are two kinds of a mobile originating call: basic call and
emergency call. The request to establish an MM connection shall contain
a parameter to specify whether the call is a basic or an emergency call.
This information may lead to specific qualities of services to be
provided by the MM sublayers. Timer T303 is started when the CM SERVICE
REQUEST message is sent.

For mobile stations supporting eMLPP basic calls may optionally have an
associated priority level as defined in 3GPP TS 23.067 \[88\]. This
information may also lead to specified qualities of service to be
provided by the MM sublayers.

While being in the \"MM connection pending\" state, the call entity of
the mobile station may cancel the call prior to sending the first call
control message according to the rules given in subclause 4.5.1.7.

The mobile station supporting multicall that is initiating an emergency
call shall release one or more existing call to ensure the emergency
call can be established if the multicall supported information stored in
the mobile station described in subclauses 5.2.1.2 and 5.2.2.1 indicates
the network does not support multicall and some ongoing calls exists.

Having entered the \"MM connection pending\" state, upon MM connection
establishment, the call control entity of the mobile station sends a
setup message to its peer entity. This setup message is:

\- a SETUP message, if the call to be established is a basic call, and

\- an EMERGENCY SETUP message, if the call to be established is an
emergency call.

NOTE 1: The Extended Local Emergency Numbers List (see
3GPP TS 24.301 \[120\]) does not apply in this specification.

The mobile station then enters the \"call initiated\" state. Timer T303
is not stopped.

The setup message shall contain all the information required by the
network to process the call. In particular, the:

\- SETUP message shall contain the called party address information;

\- EMERGENCY SETUP message shall contain the emergency category, if the
emergency category is available at the MS.

If the mobile station supports multicall, it shall include the Stream
Identifier (SI) information element. For the first call i.e. when there
are no other ongoing calls the SI value shall be 1.

For speech calls the mobile station shall indicate all codecs that it
supports for UTRAN in the *Supported Codec List* information element.
Codecs for GERAN shall be indicated in the *Bearer Capability*
information element, if this information element is included.
Additionally, if the mobile station supports codecs for GERAN and UTRAN,
it shall indicate the codecs for GERAN also in the *Supported Codec
List* information element.

If the call is a redial attempt to switch from speech to multimedia or
vice-versa, the SETUP message shall include the Redial information
element.

NOTE 2: Redial attempt is defined in 3GPP TR 23.903: \"Redial solution
for voice-video switching\"\[115\].

If the MS supports the enhanced network-initiated in-call modification
procedure as specified in subclause 5.3.4.3, the MS shall indicate this
in the *Call Control Capabilities* IE in the SETUP message.

If timer T303 elapses in the \"MM connection pending\" state, the MM
connection in progress shall be aborted and the user shall be informed
about the rejection of the call.

#### 5.2.1.1 Call initiation 

The \"call initiated\" state is supervised by timer T303.For normal MO
calls, this timer will have already been started after entering the \"MM
connection pending\" state. For network-initiated MO calls this timer
will be started in the recall present state as defined in
subclause 5.2.3.4

When the call control entity of the mobile station is in the \"call
initiated\" state and if it receives:

i\) a CALL PROCEEDING message, it shall proceed as described in
subclause 5.2.1.3;

ii\) an ALERTING message, it shall proceed as described in
subclause 5.2.1.5;

iii\) a CONNECT message, it shall proceed as described in
subclause 5.2.1.6;

iv\) a RELEASE COMPLETE message it shall proceed as described in
subclause 5.2.1.2.

Abnormal case:

\- If timer T303 elapses in the \"call initiated\" state before any of
the CALL PROCEEDING, ALERTING, CONNECT or RELEASE COMPLETE messages has
been received, the clearing procedure described in subclause 5.4 is
performed.

#### 5.2.1.2 Receipt of a setup message

In the \"null\" or \"recall present\" states, upon receipt of a setup
message (a SETUP message or an EMERGENCY SETUP message, see
subclause 5.2.1.1), the call control entity of the network enters the
\"call initiated\" state. It shall then analyse the call information
contained in the setup message.

In Iu mode, network shall include the SI received in the SETUP message
into the RABid and send it back to the mobile station. For RABid see
3GPP TS 25.413 \[19c\] and 3GPP TS 44.118 \[111\]. If the network
receives the SETUP message with no SI, the network shall set the SI
value to 1.

i\) If, following the receipt of the setup message, the call control
entity of the network determines that the call information received from
the mobile station is invalid (e.g. invalid number), then the network
shall initiate call clearing as defined in subclause 5.4 with one of the
following cause values:

\# 1 \"unassigned (unallocated) number\",

\# 3 \"no route to destination\",

\# 22 \"number changed\",

\# 28 \"invalid number format (incomplete number)\".

ii\) If, following the receipt of the setup message, the call control
entity of the network determines that a requested service is not
authorized or is not available, it shall initiate call clearing in
accordance with subclause 5.4.2 with one of the following cause values:

\# 8 \"operator determined barring\",

\# 57 \"bearer capability not authorized\",

\# 58 \"bearer capability not presently available\",

\# 63 \"service or option not available, unspecified\", or

\# 65 \"bearer service not implemented\".

iii\) Otherwise, the call control entity of the network shall either:

\- send a CALL PROCEEDING message to its peer entity to indicate that
the call is being processed; and enter the \"mobile originating call
proceeding\" state;

\- or: send an ALERTING message to its peer entity to indicate that
alerting has been started at the called user side; and enter the \"call
received\" state;

\- or: send a CONNECT message to its peer entity to indicate that the
call has been accepted at the called user side; and enter the \"connect
request\" state.

The call control entity of the network may insert bearer capability
information element(s) in the CALL PROCEEDING message to select options
presented by the mobile station in the Bearer Capability information
element(s) of the SETUP message. The bearer capability information
element(s) shall contain the same parameters as received in the SETUP
except those presenting a choice. Where choices were offered,
appropriate parameters indicating the results of those choices shall be
included.

The CALL\_PROCEEDING message shall also contain the priority of the call
in the case where the network supports eMLPP. Mobile stations supporting
eMLPP shall indicate this priority level to higher sublayers and store
this information for the duration of the call for further action. Mobile
stations not supporting eMLPP shall ignore this information element if
provided in a CALL PROCEEDING message.

NOTE: If the network supports only R98 or older versions of this
protocol and the priority is not included in the CALL PROCEEDING
message, this does not imply that the network does not support eMLPP.

\- The CALL\_PROCEEDING message shall contain the multicall supported
information in the network call control capabilities in the case where
the network supports multicall and there are no other ongoing calls to
the MS. Mobile stations supporting multicall shall store this
information until the call control state for all calls returns to null.
Mobile stations not supporting multicall shall ignore this information
if provided in a CALL PROCEEDING message. If the multicall supported
information is not sent in the CALL\_PROCEEDING message, the mobile
station supporting multicall shall regard that the network doesn\'t
support multicall.

The call control entity of the network having entered the \"mobile
originating call proceeding\" state, the network may initiate the
assignment of a traffic channel according to subclause 5.2.1.9 (early
assignment).

For speech calls, if the SETUP message or EMERGENCY SETUP message
contains a *Supported Codec List* information element, the network shall
use this list to select the codec for UTRAN. If no *Supported Codec
List* information element is received, then for UTRAN the network shall
select the default UMTS speech codec according to subclause 5.2.1.11.

Codecs for GERAN shall be selected from the codecs indicated in the
*Supported Codec List* information element or in the *Bearer Capability*
information element. If neither a *Supported Codec List* information
element nor a *Bearer Capability* information element is received, then
for GERAN the network shall select GSM full rate speech version 1.

Codec information that does not apply to the currently serving radio
access shall be used by the network if an inter-system change occurs.

![](media/image30.png){width="3.3194444444444446in"
height="2.111111111111111in"}

Figure 5.2/3GPP TS 24.008 Mobile originated call initiation and possible
subsequent responses.

#### 5.2.1.3 Receipt of a CALL PROCEEDING message

Having entered the \"call initiated\" state, when the call control
entity of the mobile station receives a CALL PROCEEDING message, it
shall stop timer T303; start timer T310 unless

\- the CALL PROCEEDING message contains a *progress indicator* IE
specifying progress description \#1, \#2, or \#64; or

\- it has received a PROGRESS message containing a *progress indicator*
IE specifying progress description \#1, \#2, or \#64 prior to the CALL
PROCEEDING message

and enter the \"mobile originating call proceeding\" state.

Abnormal case:

If timer T310 elapses before any of the ALERTING, CONNECT or DISCONNECT
messages has been received, the mobile station shall perform the
clearing procedure described in subclause 5.4.

![](media/image31.png){width="2.5555555555555554in"
height="0.9583333333333334in"}

Figure 5.3/3GPP TS 24.008 Call proceeding sequence at mobile originating
call establishment

#### 5.2.1.4 Notification of progressing mobile originated call

In this subclause, the term \"interworking\" is used only in the meaning
of interworking with a network other than PLMN or ISDN, not as
interworking between PLMN and ISDN since this is the normal case. In
this sense, PLMN and ISDN are seen within the same environment, called
the PLMN/ISDN environment.

##### 5.2.1.4.1 Notification of interworking in connection with mobile originated call establishment

During call establishment, the call may leave a PLMN/ISDN environment;
e.g., because of interworking with another network, with a non-PLMN/ISDN
user, or with non-PLMN/ISDN equipment within the called user\'s
premises; the call may also return to a PLMN/ISDN environment. When such
situations occur, the network may send a *progress indicator*
information element to the calling mobile station either:

a\) in an appropriate call control message, if a state change is required
(e.g. ALERTING or CONNECT); or,

b\) in the PROGRESS message, if no state change is appropriate.

This *progress indicator* information element shall contain one of the
following progress description values:

a\) \#1 \"call is not end-to-end PLMN/ISDN; further call progress
information may be available in-band\".

b\) \#2 \"destination address is non-PLMN/ISDN\".

c\) \#4 \"call has returned to PLMN/ISDN.

See also subclauses 5.5.1 and 5.5.6 for further reactions of the mobile
station.

##### 5.2.1.4.2 Call progress in the PLMN/ISDN environment

In order to inform the mobile station that the call is progressing in
the PLMN/ISDN environment the network may send a *progress indicator*
information element to the calling mobile station either:

a\) in an appropriate call control message, if a state change is required
(e.g., ALERTING or CONNECT); or

b\) in the PROGRESS message, if no state change is appropriate.

This *progress indicator* information element shall contain progress
description value \#32 \"Call is end-to-end ISDN/PLMN\". See also
subclause 5.5.6 for further reactions of the mobile station.

#### 5.2.1.5 Alerting

Having entered the \"mobile originating call proceeding\" state, upon
receiving an indication that user alerting has been initiated at the
called address, the call control entity of the network shall: send an
ALERTING message to its peer entity at the calling mobile station and
enter the \"call delivered\" state.

When the call control entity of the mobile station in the \"call
initiated\" state or \"mobile originating call proceeding\" state
receives an ALERTING message then, the call control entity of the mobile
station shall stop timer T303 and T310 (if running) and shall enter the
\"call delivered\" state. In this state:

\- for speech calls: an alerting indication should be given to the user.
If the mobile station has not attached the user connection then the
mobile station shall internally generate an alerting indication. If the
mobile station has attached the user connection then the network is
responsible for generating the alerting indication and the mobile
station need not generate one; and

\- for multimedia calls: if the mobile station has not attached the user
connection then the mobile station may internally generate an alerting
indication. If the mobile station supports multimedia CAT during the
alerting phase of a mobile originated multimedia call establishment, the
network may request the mobile station to attach the user connection and
setup a H.324 call and generate multimedia CAT as specified in
subclause 5.3.6.4, in which case the mobile station need not generatean
alerting tone.

Abnormal cases:

On the mobile station side, if timer T303 or T310 expires, the call
control entity of the mobile station shall initiate call clearing as
described in subclause 5.4.

![](media/image32.png){width="2.4444444444444446in"
height="0.9444444444444444in"}

Figure 5.4/3GPP TS 24.008 Call confirmation at mobile originating call
establishment

#### 5.2.1.6 Call connected

Upon receiving an indication that the call has been accepted, the call
control entity of the network shall: through connect the traffic channel
(including the connection of an interworking function, if required) and
send a CONNECT message to its peer entity at the calling mobile station;
start timer T313 and enter the \"connect indication\" state.

This message indicates to the call control entity of the calling mobile
station that a connection has been established through the network.

The call control entity of the mobile station in the \"call initiated\"
state, in the \"mobile originating call proceeding\" state or in the
\"call delivered\" state, shall, upon receipt of a CONNECT message:

\- attach the user connection;

\- return a CONNECT ACKNOWLEDGE message;

\- stop any locally generated alerting indication (if applied);

\- clear any H.324 call established to receive multimedia CAT during the
alerting phase (if applied) , as specified in subclause 5.3.6.4

\- stop timer T303 and T310 (if running);

\- enter the \"active\" state.

Abnormal cases:

On the mobile station side, if timer T303 or T310 expires, the call
control entity of the mobile station shall initiate call clearing as
described in subclause 5.4.

NOTE: The mobile station may have applied an additional internal
alerting supervision which causes initiation of call clearing prior to
the expiry of T303 or T310.

The call control of the network in the \"connect indication\" state,
shall, upon receipt of a CONNECT ACKNOWLEDGE message:

\- stop timer T313 and enter the \"active\" state.

Abnormal cases:

On the network side, if timer T313 elapses before a CONNECT ACKNOWLEDGE
message has been received, the network shall perform the clearing
procedure as described in subclause 5.4.

![](media/image33.png){width="2.7083333333333335in"
height="0.9444444444444444in"}

Figure 5.5/3GPP TS 24.008 Call acceptance sequence at mobile originating
call establishment

#### 5.2.1.7 Call rejection

Upon receiving an indication that the network or the called user is
unable to accept the call, the network shall initiate call clearing at
the radio interface to the mobile which originated the call, as
described in subclause 5.4 using the cause provided by the terminating
network or the called user.

#### 5.2.1.8 Transit network selection

NOTE: For further study.

#### 5.2.1.9 Traffic channel assignment at mobile originating call establishment

The mobile station supporting multicall includes the Stream Identifier
(SI) in the SETUP message. The multicall supporting network shall
interprets the SI value as follows:

a\) Mobile station generates a new SI value at the initiation of an
originating call, then a new traffic channel shall be assigned to the
mobile originating call.

b\) Mobile station indicates an existing SI value, then the indicated
traffic channel shall be used for the mobile originating call.

Mobile station supporting multicall shall never send an additional SETUP
with indication that a new traffic channel is requested to a network
that does not support multicall.

It is a network dependent decision when to initiate the assignment of an
appropriate traffic channel during the mobile originating call
establishment phase. Initiation of a suitable RR procedure to assign an
appropriate traffic channel does neither change the state of a call
control entity nor affect any call control timer.

NOTE: During certain phases of such an RR procedure, transmission of CC
and MM messages may be suspended, see 3GPP TS 44.018 \[84\], clause 3
and 3GPP TS 48.008 \[85\].

The assignment procedure does not affect any call control timer.

#### 5.2.1.10 Call queuing at mobile originating call establishment

If an idle traffic channel is not available at the assignment instant,
the network may place the traffic channel request in a queue. Calls
arriving when all positions in the queue are occupied shall be cleared
by the network using the cause \#34 \"no circuit/channel available\".

The maximum queuing interval is supervised by the network. The limit is
a network dependent choice. In case the network is not able to allocate
a traffic channel within the queuing limit, the network will release the
call using cause \#34 \"no circuit/channel available\".

Optionally, e.g. if eMLPP is used, the network may decide to pre-empt
existing calls or to place the traffic channel request at some
preferential position within the queue.

Specific indications provided in the network to the remote user are a
network dependent choice.

#### 5.2.1.11 Speech Codec Selection

For speech calls, a mobile station implementing this version of the
protocol shall indicate all codecs that it supports for UTRAN in the
*Supported Codec List* information element. Codecs for GERAN shall be
indicated in the *Bearer Capability* information element, if this
information element is included. Additionally, if the mobile station
supports codecs for GERAN and UTRAN, it shall indicate the codecs for
GERAN also in the *Supported Codec List* information element.

If the network does not receive a *Supported Codec List* information
element then for speech calls in UTRAN it shall select the default UMTS
speech codec.

For speech calls in GERAN, if the network does not receive a *Supported
Codec List* information element nor a *Bearer Capability* information
element, the network shall select GSM full rate speech version 1.

The network shall determine the default UMTS speech codec by the
following:

i\) If no GSM Speech Version codepoints are received in the *Supported
Codec List* IE or in octet 3a etc. of the *Bearer Capabilities* IE then
a \"UMTS only\" terminal is assumed and the default UMTS speech codec
shall be UMTS\_AMR.

ii\) If at least one GSM Speech Version codepoint is received in the
*Supported Codec List* IE or in octet 3a etc. of the *Bearer
Capabilities* IE then the ME supports GSM and UMTS and the default UMTS
speech codec shall be UMTS\_AMR\_2.

NOTE 1: In case (ii), if the call is set up in A/Gb or GERAN Iu mode by
a R99 ME, call control in the core network may treat the ME as a \"GSM
only\" ME. The default UMTS speech codec will only become relevant when
an intersystem handover to UTRAN Iu mode is initiated by the radio
access network, and can be determined when this procedure is started.

If the *Supported Codec List* IE is received, then the network shall use
this list to select the codec for Iu mode and indicate the selected
codec to the ME via RANAP and RRC protocol in the NAS Synchronisation
Indicator IE. See 3GPP TS 25.413 \[19c\], 3GPP TS 25.331 \[23c\] and
3GPP TS 44.118 \[111\].

The NAS Synchronisation Indicator IE shall be coded as the 4 least
significant bits of the selected codec type (CoID) defined in
3GPP TS 26.103 \[83\], subclause 6.3.

The network shall determine the preference for the selected codec type;
codec type prioritisation is not provided by the ME.

The ME shall activate the codec type received in the NAS Synchronisation
Indicator IE.

If the mobile station does not receive the NAS Synchronisation Indicator
IE (RRC protocol)

\- during setup of a speech call;

\- during inter-system handover of a speech call from A/Gb or GERAN Iu
mode to UTRAN Iu mode;

\- during an in-call modification from data to speech;

\- during a SRVCC handover to UTRAN Iu mode; or

\- during a 5G-SRVCC handover from NG-RAN to UTRAN Iu mode,

then it shall select the UMTS\_AMR\_2 speech codec.

NOTE 2: If the network does not support UMTS\_AMR\_2, it may activate
the UMTS\_AMR codec and indicate to the mobile station that it shall
select UMTS\_AMR\_2. According to 3GPP TS 26.103 \[83\], subclause 5.4,
no interworking problem will occur in this case.

If the mobile station has selected a speech codec for UTRAN Iu mode, it
shall keep this codec until

\- a new codec is requested by the network by sending a NAS
Synchronisation Indicator IE (RRC protocol);

\- a new codec is requested by the network during inter-system handover
from UTRAN Iu mode to A/Gb or GERAN Iu mode; or

\- an in-call modification from speech to data is performed.

For adaptive multirate codec types no indication of subsets of modes is
supported in this protocol, from the mobile station or to the mobile
station. It is a pre-condition that the support of such codec types by
the mobile station implicitly includes all modes defined for that codec
type.

#### 5.2.1.12 Cellular Text telephone Modem (CTM) selection

The mobile station can send a CTM support indication in the *Bearer
Capability* IE in call establishment messages to inform the network of
the use of CTM text in the call.

When the mobile station indicates speech and support of CTM text
telephony, the network shall select a speech codec and additionally CTM
text telephony detection/conversion functions as specified in
3GPP TS 23.226 \[92\] and 3GPP TS 26.226 \[93\], if such functions are
available.

NOTE: If CTM support is indicated by the mobile station, then it
supports CTM text telephony together with any supported speech codec and
for any supported radio access.

### 5.2.2 Mobile terminating call establishment

Before call establishment can be initiated in the mobile station, the MM
connection must be established by the network.

#### 5.2.2.1 Call indication

After the arrival of a call from a remote user, the corresponding call
control entity in the network shall: initiate the MM connection
establishment according to clause 4 and enter the \"MM connection
pending\" state. The request to establish the MM connection is passed
from the CM sublayer to the MM sublayer. It contains the necessary
routing information derived from the SETUP message.

Upon completion of the MM connection, the call control entity of the
network shall: send the SETUP message to its peer entity at the mobile
station, start timer T303 and enter the \"call present\" state.

The SETUP message shall contain the multicall supported information in
the network call control capabilities in the case where the network
supports multicall and there are no other ongoing calls to the MS.
Mobile stations supporting multicall shall store this information until
the call control state for all calls returns to null. Mobile stations
not supporting multicall shall ignore this information if provided in a
SETUP message. If the multicall supported information is not sent in the
SETUP message, the mobile station supporting multicall shall regard that
the network does not support multicall.

Upon receipt of a SETUP message, the mobile station shall perform
compatibility checking as described in subclause 5.2.2.2. If the result
of the compatibility checking was compatibility, the call control entity
of the mobile station shall enter the \"call present\" state. An
incompatible mobile station shall respond with a RELEASE COMPLETE
message in accordance with subclause 5.2.2.3.4.

If there are no *bearer capability* IEs in the SETUP message, the
network may provide information about the requested service in the
*backup bearer capability* IE.

If no response to the SETUP message is received by the call control
entity of the network before the expiry of timer T303, the procedures
described in subclause 5.2.2.3.3 shall apply.

![](media/image34.png){width="3.138888888888889in" height="1.625in"}

Figure 5.6/3GPP TS 24.008 Mobile terminating call initiation and
possible subsequent responses.

#### 5.2.2.2 Compatibility checking

The mobile station receiving a SETUP message shall perform compatibility
checking before responding to that SETUP message. Annex B defines
compatibility checking to be performed by the mobile station upon
receiving a SETUP message. For a *backup bearer capability* IE received
with a SETUP message the mobile station shall not perform compatibility
checking as described in annex B.

#### 5.2.2.3 Call confirmation

##### 5.2.2.3.1 Response to SETUP

Having entered the \"call present state\" the call control entity of the
mobile station shall - with the exception of the cases described below -
acknowledge the SETUP message by a CALL CONFIRMED message, and enter the
\"mobile terminating call confirmed\" state.

If the mobile station supports multicall, it shall include the Stream
Identifier (SI) information element in the CALL CONFIRMED message.

If the mobile station is located in the network supporting multicall, it
shall never include the SI that is in use and shall include with either
of the following two values:

\- SI=\"no bearer\";

\- SI=new value (not used by any of the existing bearers).

If the mobile station supporting multicall is located in the network not
supporting multicall, it shall include the SI with value 1.

The call control entity of the mobile station may include in the CALL
CONFIRMED message to the network one or two bearer capability
information elements to the network, either preselected in the mobile
station or corresponding to a service dependent directory number (see
3GPP TS 29.007 \[38\]). The mobile station may also use the *backup
bearer capability* IE, if provided by the network, to deduce the
requested service (see 3GPP TS 27.001 \[36\], subclause 8.3.3.1). The
mobile station may also include one or two bearer capabilities in the
CALL CONFIRMED message to define the radio channel requirements. In any
case the rules specified in subclause 9.3.2.2 shall be followed.

NOTE: The possibility of alternative responses (e.g., in connection with
supplementary services) is for further study.

For speech calls the mobile station shall indicate all codecs that it
supports for UTRAN in the *Supported Codec List* information element.
Codecs for GERAN shall be indicated in the *Bearer Capability*
information element, if this information element is included.
Additionally, if the mobile station supports codecs for GERAN and UTRAN,
it shall indicate the codecs for GERAN also in the *Supported Codec
List* information element.

If the MS supports the enhanced network-initiated in-call modification
procedure as specified in subclause 5.3.4.3, the MS shall indicate this
in the *Call Control Capabilities* IE in the CALL CONFIRMED message.

A busy MS which satisfies the compatibility requirements indicated in
the SETUP message shall respond either with a CALL CONFIRMED message if
the call setup is allowed to continue or a RELEASE COMPLETE message if
the call setup is not allowed to continue, both with cause \#17 \"user
busy\".

If the mobile user wishes to refuse the call, a RELEASE COMPLETE message
shall be sent with the cause \#21 \"call rejected\".

In the cases where the mobile station responds to a SETUP message with
RELEASE COMPLETE message the mobile station shall release the MM
connection and enter the \"null\" state after sending the RELEASE
COMPLETE message.

The network shall process the RELEASE COMPLETE message in accordance
with subclause 5.4.

##### 5.2.2.3.2 Receipt of CALL CONFIRMED and ALERTING by the network

The call control entity of the network in the \"call present\" state,
shall, upon receipt of a CALL CONFIRMED message: stop timer T303, start
timer T310 and enter the \"mobile terminating call confirmed\" state.

In Iu mode, network shall include the SI received in the CALL CONFIRMED
message into the RABid and send it back to the mobile station. For RABid
see 3GPP TS 25.413 \[19c\] and 3GPP TS 44.118 \[111\]. If the network
receives the CALL CONFIRMED message with no SI, the network shall set
the SI value to 1.

For speech calls, if the CALL CONFIRMED message contains a *Supported
Codec List* information element, the network shall use this list to
select the codec for UTRAN. If no *Supported Codec List* information
element is received, then for UTRAN the network shall select the default
UMTS speech codec according to subclause 5.2.1.11.

Codecs for GERAN shall be selected from the codecs indicated in the
*Supported Codec List* information element or in the *Bearer Capability*
information element. If neither a *Supported Codec List* information
element nor a *Bearer Capability* information element is received, then
for GERAN the network shall select GSM full rate speech version 1.

Codec information that does not apply to the currently serving radio
access shall be used by the network if an inter-system change occurs.

The call control entity of the mobile station having entered the
\"mobile terminating call confirmed\" state, if the call is accepted at
the called user side, the mobile station proceeds as described in
subclause 5.2.2.5. Otherwise, if the signal information element was
present in the SETUP message user alerting is initiated at the mobile
station side; if the signal information element was not present in the
SETUP message, user alerting is initiated when an appropriate channel is
available.

Here, initiation of user alerting means:

\- the generation of an appropriate tone or indication at the mobile
station; and

\- sending of an ALERTING message by the call control entity of the MS
to its peer entity in the network and entering the \"call received\"
state.

The call control entity of the network in the \"mobile terminated call
confirmed\" state shall, upon receipt of an ALERTING message: send a
corresponding ALERTING indication to the calling user; stop timer T310;
start timer T301, and enter the \"call received\" state.

In the \"mobile terminating call confirmed\" state or the \"call
received\" state, if the user of a mobile station is User Determined
User Busy then a DISCONNECT message shall be sent with cause \#17 \"user
busy\". In the \"mobile terminating call confirmed\" state, if the user
of a mobile station wishes to reject the call then a DISCONNECT message
shall be sent with cause \#21 \"call rejected\".

##### 5.2.2.3.3 Call failure procedures

In case of abnormal behaviour the following call failure procedures
apply:

i\. If the network does not receive any response to the SETUP message
prior to the expiration of timer T303, then the network shall: initiate
clearing procedures towards the calling user with cause \#18 \"no user
responding\"; and initiate clearing procedures towards the called mobile
station in accordance with subclause 5.4.4 using cause \#102 \"recovery
on timer expiry\".

ii\. If the network has received a CALL CONFIRMED message, but does not
receive an ALERTING, CONNECT or DISCONNECT message prior to the
expiration of timer T310, then the network shall:

\- initiate clearing procedures towards the calling user with cause \#18
\"no user responding\"; and

\- initiate clearing procedures towards the called MS in accordance with
subclause 5.4.4 using cause \#102 \"recovery on timer expiry\".

iii\. If the network has received an ALERTING message, but does not
receive a CONNECT or DISCONNECT message prior to the expiry of timer
T301 (or a corresponding internal alerting supervision timing function),
then the network shall: initiate clearing procedures towards the calling
user with cause \#19 \"user alerting, no answer\"; and initiate clearing
procedures towards the called mobile station in accordance with
subclause 5.4.4, using cause \#102 \"recovery on timer expiry\" or using
cause \#31 \"normal, unspecified\".

NOTE: The choice between cause \#31 and cause \#102 may have
consequences on indications generated by the mobile station, see 3GPP TS
22.001 \[8a\].

##### 5.2.2.3.4 Called mobile station clearing during mobile terminating call establishment

See subclause 5.4.2.

#### 5.2.2.4 Notification of interworking in connection with mobile terminating call establishment

In this subclause, the term \"interworking\" is used only in the meaning
of interworking with a network other than PLMN or ISDN, not as
interworking between PLMN and ISDN since this is the normal case. In
this sense, PLMN and ISDN are seen within the same environment, called
the PLMN/ISDN environment.

During call establishment the call may enter an PLMN/ISDN environment,
e.g., because of interworking with another network, with a non-PLMN/ISDN
user, or with non-PLMN/ISDN equipment within the calling or called
user\'s premises. When this occurs, the network may include a *progress
indicator* information element to be included in the SETUP message to be
sent to the called mobile station specifying progress description value:

a\) \#1 \"call is not end-to-end PLMN/ISDN; further call progress
information may be available in-band\" or

b\) \#3 \"origination address is non-PLMN/ISDN\".

See also subclause 5.5.1 for further reactions of the mobile station.

#### 5.2.2.5 Call accept

In the \"mobile terminating call confirmed\" state or the \"call
received\" state, the call control entity in the mobile station
indicates acceptance of a mobile terminating call by:

\- sending a CONNECT message to its peer entity in the network;

\- starting Timer T313; and

\- entering the \"connect request\" state.

If the call control entity of the mobile station has indicated \"No
Bearer\" as the SI value in the CALL CONFIRMED message, it shall assign
the SI value and include the SI information element in the CONNECT
message. Otherwise the SI information element shall not be included in
the CONNECT message.

#### 5.2.2.6 Active indication

In the \"mobile terminated call confirmed\" state or in the \"call
received\" state, the call control entity of the network shall, upon
receipt of a CONNECT message: through connect the traffic channel
(including the connection of an interworking function, if required),
stop timers T310, T303 or T301 (if running); send a CONNECT ACKNOWLEDGE
message to its peer entity at the mobile station of the called user;
initiate procedures to send a CONNECT message towards the calling user
and enter the \"active\" state.

In the \"connect request\" state, the call control entity of the mobile
station shall, upon receipt of a CONNECT ACKNOWLEDGE message: stop timer
T313 and enter the \"active\" state.

When timer T313 expires prior to the receipt of a CONNECT ACKNOWLEDGE
message, the mobile station shall initiate clearing in accordance with
subclause 5.4.3.

![](media/image35.png){width="2.3055555555555554in"
height="0.9444444444444444in"}

Figure 5.7/3GPP TS 24.008 Call acceptance and active indication at
mobile terminating call establishment

#### 5.2.2.7 Traffic channel assignment at mobile terminating call establishment

After receiving the SETUP message, the mobile station supporting
multicall may either require a new traffic channel or reuse an existing
traffic channel.

If a mobile station in the network supporting multicall requires a new
traffic channel, it shall:

\- send a CALL CONFIRMED message including the SI indicating a new
value, not used by any of the existing traffic channels.

If a mobile station in the network supporting multicall does not require
a new traffic channel, it shall:

\- send a CALL CONFIRMED message including the SI equal to \"no
bearer\".

After the mobile station has send the CALL CONFIRMED with SI=\"no
bearer\", the SI value in the CONNECT message will tell to the network
if a user requests a new traffic channel or one of the existing ones
will be re-uesd.

If a new traffic channel is requested by the user, the mobile station in
the network supporting multicall shall:

\- send a CONNECT message containing the SI with a new value, not used
by any existing traffic channel.

If the user decides that an existing traffic channel will be reused, the
mobile station in the network supporting multicall shall:

\- send a CONNECT message with an SI indicating an existing value used
by an existing traffic channel.

It is a network dependent decision when to initiate the assignment of a
traffic channel during the mobile terminating call establishment phase.

Initiation of the assignment phase does not directly change the state of
a CC entity nor affect any call control timer, but may have some
secondary effects (see e.g. subclause 5.2.2.3.2).

#### 5.2.2.8 Call queuing at mobile terminating call establishment

The principles described in subclause 5.2.1.10 apply accordingly.

NOTE: The interworking to the fixed network has to fulfil the network
specific requirements.

#### 5.2.2.9 User connection attachment during a mobile terminating call

For speech calls:

The mobile station shall attach the user connection at latest when
sending the connect message.

For data calls:

The mobile station shall attach the user connection when receiving the
CONNECT ACKNOWLEDGE message from the network.

#### 5.2.2.10 Speech Codec Selection

The principles described in subclause 5.2.1.11 apply accordingly.

#### 5.2.2.11 Cellular Text telephone Modem (CTM) selection

The principles described in subclause 5.2.1.12 apply accordingly.

### 5.2.3 Network initiated MO call \$(CCBS)\$

The procedures of subclause 5.2.3 are mandatory for mobile stations
supporting \"Network initiated MO call\".

NOTE: The behaviour of a mobile station that does not support \"Network
initiated MO call\" is described in clause 4.

#### 5.2.3.1 Initiation

Before call establishment can be initiated in the mobile station, the MM
connection shall be established by the network.

After the arrival of an appropriate stimulus (for example a Remote User
Free Indication), the corresponding call control entity in the network
shall initiate the MM connection establishment according to clause 4,
enter the \"CC connection pending\" state and start timer T331. The
request to establish the MM connection is passed from the CM sublayer to
the MM sublayer. It contains the necessary routing information derived
from the received stimulus.

Upon completion of the MM connection, the call control entity of the
mobile station shall send a START CC message to its peer entity in the
network. The mobile station shall then enter the \"Wait for network
information\" state and start timer T332.

If the network receives a START CC message while in the \"CC connection
pending\" state, the network stops T331, sends the CC-ESTABLISHMENT
message, starts timer T333 and enters the \"CC-establishment present\"
state.

The MM connection establishment may be unsuccessful for a variety of
reasons, in which case the MM sublayer in the network will inform the CC
entity in the network with an indication of the reason for the failure.
The CC entity shall then stop all running timers, enter the \"Null\"
state and inform all appropriate entities within the network.

If timer T331 expires, the network shall abort the MM connection
establishment attempt, stop all running CC timers, enter the \"Null\"
state and inform all appropriate entities within the network.

#### 5.2.3.2 CC-Establishment present

In the \"CC establishment present\" state, the mobile station, upon
receipt of the CC-ESTABLISHMENT message, shall stop timer T332.

The CC-ESTABLISHMENT message contains information which the mobile
station shall use for the subsequent SETUP message (if any) related to
this CC-ESTABLISHMENT.

The CC-ESTABLISHMENT message shall contain the *Setup Container IE.*

If no CC-ESTABLISHMENT message is received by the call control entity of
the mobile station before the expiry of timer T332, then the mobile
station shall initiate clearing procedures towards the network using a
RELEASE COMPLETE message with cause \#102 \"recovery on timer expiry\"
and proceed in accordance with subclause 5.4.2.

Upon receipt of a CC-ESTABLISHMENT message the mobile station shall
perform checks on the Setup Container IE in order to align the contained
information with the mobile\'s present capabilities and configuration.
The \"recall alignment procedure\" is defined later on in this
subclause.

If the recall alignment procedure has succeeded, the call control entity
of the Mobile Station shall:

\- form and store the SETUP message for sending later in the \"Recall
present\" state,

\- acknowledge the CC-ESTABLISHMENT message with a CC-ESTABLISHMENT
CONFIRMED message,

\- start timer T335, and

\- enter the \"CC-establishment confirmed\" state.

Exception:

A busy mobile station which has successfully performed the recall
alignment procedure shall respond with a CC-ESTABLISHMENT CONFIRMED
message with cause \#17 \"user busy\", and proceed as stated above.

For speech calls the mobile station shall indicate all codecs that it
supports for UTRAN in the *Supported Codec List* information element of
the CC-ESTABLISHMENT CONFIRMED message. Codecs for GERAN shall be
indicated in the *Bearer Capability* information element. Additionally,
if the mobile station supports codecs for GERAN and UTRAN, it shall
indicate the codecs for GERAN also in the *Supported Codec List*
information element.

A mobile station, for which the recall alignment procedure failed, shall
respond with a RELEASE COMPLETE message in accordance with
subclause 5.4.2 with the appropriate cause code as indicated in the
description of the recall alignment procedure.

The SETUP message is constructed from the *Setup Container IE* received
in the CC ESTABLISHMENT MESSAGE. The mobile station shall assume that
the *Setup Container IE* contains an entire SETUP message with the
exception of the Protocol Discriminator, Transaction ID and Message Type
elements. The mobile station may assume that the contents of the *Setup
Container IE* are the same as were sent from the subscriber in a
previous SETUP message of the mobile originating call establishment
attempt. The mobile station shall copy the *Setup Container* to the
SETUP message and not modify the contents except as defined in the
recall alignment procedure and as defined in *exceptions* below. The
mobile station shall not add other Information Elements to the end of
the SETUP message.

Exceptions:

*Bearer Capability IE(s), HLC IE(s) and LLC IE(s)* (including *Repeat
Indicator(s),* if there are 2 bearer capabilities), and the *Supported
Codec List* *IE* require handling as described in the recall alignment
procedure below.

If the *CC Capabilities* in the *Setup Container IE* is different to
that supported by the mobile station, the mobile station shall modify
the *CC Capabilities* in the SETUP message to indicate the true
capabilities of the mobile station.

*Facility IE(s) and SS Version IE(s)* require handling as described in
the recall alignment procedure.

*Stream Identifier IE* requires handling as described in the recall
alignment procedure.

If no response to the CC-ESTABLISHMENT message is received by the call
control entity of the network before the expiry of timer T333, then the
network shall initiate clearing procedures towards the called mobile
station using a RELEASE COMPLETE message with cause \#102 \"recovery on
timer expiry\" and inform all appropriate entities within the network,
proceeding in accordance with subclause 5.4.2.

![](media/image36.png){width="3.111111111111111in"
height="1.4861111111111112in"}

Figure 5.7a/3GPP TS 24.008 Call initiation and possible subsequent
responses.

##### 5.2.3.2.1 Recall Alignment Procedure

The recall alignment procedure consists of three parts:

\- basic service group alignment,

\- facility alignment, and

\- stream identifier alignment.

Basic service group alignment:

The mobile station shall check that the *Bearer Capability, HLC* and
*LLC* and *Repeat Indicator* fields, which are embedded in the *Setup
Container IE,* match a basic service group supported by the mobile
station.

If this check fails, then the recall alignment procedure has failed. The
mobile station shall use the cause \#88 \"incompatible destination\"
afterwards.

Otherwise, the mobile station is allowed to alter the content within the
*Bearer Capability, HLC* and *LLC* Information Elements (e.g. the speech
codec version(s), the data rate, the radio channel requirement) provided
that the basic service group is not changed. Furthermore, for speech
calls the mobile station is allowed to add or remove the *Supported
Codec List* Information Element, or to alter the contents of this
information element dependent on the codecs supported by the mobile
station. The result shall be that the mobile station has derived *Bearer
Capability, HLC,* *LLC, and Supported Codec List* Information Elements,
which it can use for a later call setup according to its configuration
and capabilities.

Facility alignment:

This only applies if the *Setup Container* contains 1 or more *Facility
IEs.* Each *Facility IE* within the *Setup Container* will be associated
with the common *SS Version IE*, if present*.* The handling for each
*Facility IE* is defined below. The mobile station shall align each
facility IE contained in the *Setup Container.* The rules defined in
3GPP TS 24.010 \[21\] also apply.

The *Facility IE* is encoded as \'simple recall alignment\', \'advanced
recall alignment\' or \'recall alignment not essential\' (see 3GPP TS
24.010 \[21\]). If the encoding indicates, that

\- a simple recall alignment is required, the mobile station shall copy
the Facility IE and the common SS version IE from the *Setup Container*
to the SETUP message without modifying the content.

\- an advanced recall alignment is required, the mobile station must
recognise and support the operation defined in the facility. If the
mobile station does not recognise or support the operation, then the
recall alignment procedure has failed and the mobile station shall use
the cause \#29 \"facility rejected\" in the subsequent rejection of the
CC establishment request.

\- the recall alignment is not essential, then the facility operation is
not an essential part of the SETUP. If the MS does not recognise the
operation then the SS Version IE and Facility IE are discarded, and NOT
copied into the SETUP message.

NOTE: A mobile station may include a *Facility IE* without an associated
*SS Version IE.* This would indicate that the SS operation is encoded
using Phase 1 protocols.

Further details on Facility handling are given in 3GPP TS 24.010 \[21\].

Stream identifier alignment:

The mobile station shall check whether the *Stream Identifier* field is
contained in the *Setup Container* or no*t*.

If the *Stream Identifier* is contained in the *Setup Container*, the
mobile station shall behave as one of the following.

\- the mobile station re-assign the *Stream Identifier* value, and
modify the *Stream Identifier* field.

\- the mobile station remove the *Stream Identifier* field.

If the *Stream Identifier* is not contained in the *Setup Container*,
the mobile station may behave as follows.

\- the mobile station assign the *Stream Identifier* value, and add the
*Stream Identifier* *IE* to the end of the SETUP message.

#### 5.2.3.3 CC-Establishment confirmation

The call control entity of the network in the \"CC-establishment
present\" state, shall, upon receipt of a CC-ESTABLISHMENT CONFIRMED
message, stop timer T333 and enter the \"CC-establishment confirmed\"
state.

For speech calls, if the ESTABLISHMENT CONFIRMED message contains a
*Supported Codec List* information element, the network shall use this
list to select the codec for UMTS. If no *Supported Codec List*
information element is received, then for UMTS the network shall select
the default UMTS speech codec according to subclause 5.2.1.11.

Codecs for GERAN shall be selected from the codecs indicated in the
*Supported Codec List* information element or in the *Bearer Capability*
information element. If neither a *Supported Codec List* information
element nor a *Bearer Capability* information element is received, then
for GERAN the network shall select GSM full rate speech version 1.

Codec information that does not apply to the currently serving radio
access shall be used by the network if an inter-system change occurs.

In the \"CC-establishment confirmed\" state, the network sends a RECALL
message. This message initiates user alerting and also shall include the
Facility IE (providing additional information to be presented to the
user for notification). The network starts timer T334 and enters the
\'recall present\' state.

Upon reception of the RECALL message the Mobile station stops T335 and
enters the \"recall present\" state.

![](media/image37.png){width="2.4444444444444446in"
height="0.9166666666666666in"}

Figure 5.7b/3GPP TS 24.008 Recall

#### 5.2.3.4 Recall present

In the \"recall present\" state, the call control entity in the mobile
station waits for acceptance of the Recall by the user. Once
confirmation is received, the mobile station indicates acceptance of a
recall by

\- sending a SETUP message to its peer entity in the network;

\- starting Timer T303; and

\- entering the \"call initiated\" state and proceeding as described in
subclause 5.2.1.1.

The MS shall ensure that the contents of the *Bearer Capability IE(s*)
and *Supported Codec List* IE sent in the SETUP message are the same as
the *Bearer Capability IE(s*) and *Supported Codec List* IE in the
previous CC-ESTABLISHMENT CONFIRMED message related to this Network
Initiated MO Call.

In the \"recall-present\" state, if the user of a mobile station is User
Determined User Busy then a RELEASE COMPLETE message shall be sent with
cause \#17 \"user busy\" In the \"recall-present\" state. If the user of
a mobile station wishes to reject the recall then a RELEASE COMPLETE
message shall be sent with cause \#21 \"call rejected\".

In either case, the mobile shall release the connection in accordance
with subclause 5.4.2

On receipt of the SETUP message in the \"recall present\" state, the
network shall stop timer T334 and proceed as specified in
subclause 5.2.1.2.

If the call control entity of the network does not receive a SETUP
message before the expiry of timer T334, then the network shall send a
RELEASE COMPLETE message to the mobile using cause \#102 \"recovery on
timer expiry\", release the MM connection, enter the \"null\" state and
shall inform all appropriate entities within the network.

![](media/image38.png){width="2.763888888888889in"
height="0.9444444444444444in"}

Figure 5.7b/3GPP TS 24.008 Recall acceptance or rejection by user

#### 5.2.3.5 Traffic channel assignment during network initiated mobile originating call establishment

It is a network dependent decision whether or not to initiate the
assignment of a traffic channel during the \"CC-establishment
confirmed\" state.

### 5.2.4 Call establishment for SRVCC or vSRVCC

#### 5.2.4.1 General

Before call establishment for SRVCC or vSRVCC can be initiated in the
mobile station, the MM connection must be established by the network.

At PS to CS domain change from S1 mode or Iu mode due to SRVCC handover
or vSRVCC handover (see 3GPP TS 23.216 \[126\]), the RR sublayer in the
MS indicates to the MM layer if a voice only SRVCC handover or a voice
and video SRVCC handover was completed successfully. At reception of
this indication, the MS that supports SRVCC or vSRVCC shall establish an
MM connection as specified in subclause 4.5.1.8 and either proceeds with
subclause 5.2.4.2 if the indication is that voice only SRVCC was
completed successfully or proceeds with subclause 5.2.4.2a if the
indication is that voice and video SRVCC was completed successfully.

At 5G-SRVCC handover from NG-RAN to UTRAN (see 3GPP TS 23.216 \[126\]),
the RR sublayer in the MS indicates to the MM layer if 5G-SRVCC handover
from NG-RAN to UTRAN was completed successfully. At reception of this
indication, the MS that supports 5G-SRVCC handover from NG-RAN to UTRAN
shall establish an MM connection as specified in subclause 4.5.1.8 and
proceeds with subclause 5.2.4.2 if the indication is that 5G-SRVCC
handover from NG-RAN to UTRAN was completed successfully.

#### 5.2.4.2 Call activation for SRVCC

If the MS

\- supports SRVCC and the MS has a voice media stream previously carried
over the PS domain that is handed over to the CS domain via SRVCC;

\- supports SRVCC or vSRVCC and the MS has a voice media stream and a
video media stream of a single session previously in S1 mode carried
over the PS domain and only the voice media stream is handed over to the
CS domain via SRVCC; or

\- supports 5G-SRVCC handover from NG-RAN to UTRAN and the MS has a
voice media stream previously in the N1 mode that is handed over to the
CS domain via 5G-SRVCC handover from NG-RAN to UTRAN

and the session is in the \"confirmed\" state (defined in
IETF RFC 3261 \[137\]), and the call control entity in \"null\" state
receives indication \"MM connection establishment due to SRVCC
handover\", the call control entity of the MS shall enter the \"active\"
state, set the auxiliary state (defined in 3GPP TS 24.083 \[27\]) to
\"idle\", set the multi party auxiliary state (defined in
3GPP TS 24.084 \[28\]) to \"idle\" and indicate the call establishment
to upper layers. The MS and the network shall locally set the TI value
of the call to \"000\" and the TI flag value as in mobile terminated
call. If a single voice media stream is handed over and:

\- if the session is on hold, the setting of the auxiliary state (as
defined in 3GPP TS 24.083 \[27\]) is described in
3GPP TS 24.237 \[136\]; and

\- if the session is a conferencing session, the setting of the multi
party auxiliary state (as defined in 3GPP TS 24.084 \[28\]) is described
in 3GPP TS 24.237 \[136\].

If the MS supports single radio PS to CS access transfer for calls in
alerting state as specified in 3GPP TS 24.237 \[136\] subclause 12.2.3B,
and the MS has a single voice media stream over the PS domain that is
handed over to the CS domain via SRVCC, and the call control entity of
the MS in the \"null\" state receives an indication \"MM connection
establishment due to SRVCC handover\" then:

\- the call control entity shall indicate to the upper layers that call
establishment is due to SRVCC handover;

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile originated session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.2, the call control entity
of the MS shall enter the \"call delivered\" state for this transaction.
The MS and the network shall locally set the TI value of the call to
\"000\" and the TI flag value as in mobile terminated call; and

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile terminating session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.1, the call control entity
of the MS shall enter the \"call received\" state for this transaction.
The MS and the network shall locally set the TI value of the call to
\"000\" and the TI flag value as in mobile terminated call.

If the MS supports single radio PS to CS SRVCC for originating calls in
pre-alerting phase as specified in 3GPP TS 24.237 \[136\]
subclause 12.2.3B, and the MS has a single voice media stream over the
PS domain that is handed over to the CS domain via SRVCC, and the call
control entity of the MS in the \"null\" state receives an indication
\"MM connection establishment due to SRVCC handover\" then:

\- the call control entity shall indicate to the upper layers that call
establishment is due to SRVCC handover; and

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile originated session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.3, the call control entity
of the MS shall enter the \"mobile originating call proceeding\" state
for this transaction. The MS and the network shall locally set the TI
value of the call to \"000\" and the TI flag value as in mobile
terminated call.

If the MS supports single radio PS to CS SRVCC for terminating calls in
pre-alerting phase as specified in 3GPP TS 24.237 \[136\]
subclause 12.2.3B, and the MS has a single voice media stream over the
PS domain that is handed over to the CS domain via SRVCC, and the call
control entity of the MS in the \"null\" state receives an indication
\"MM connection establishment due to SRVCC handover\" then:

\- the call control entity shall indicate to the upper layers that call
establishment is due to SRVCC handover; and

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile terminated session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.2, the call control entity
of the MS shall enter the \"call present\" state for this transaction.
The MS and the network shall locally set the TI value of the call to
\"000\" and the TI flag value as in mobile terminated call.

If the MS has additional voice media streams carried over the PS domain
that are handed over to the CS domain via SRVCC, the call states for the
transactions and the setting of the TI value and TI flag for these
additional media streams are described in 3GPP TS 24.237 \[136\].

If the MS supports multicall, the MS shall locally set SI value to \"1\"
and the MS shall assume that the network does not support multicall. The
network shall also locally set SI value to \"1\".

If the MS has a mobile originating session in the \"early\" state (as
defined in IETF RFC 3261 \[137\]) and is providing an internally
generated alerting indication to the user prior to the SRVCC handover,
then after transitioning from the PS domain, the MS shall continue to
provide the internal alerting indication to the user. The alerting
indication is stopped when the user connection is attached.

If the MS has a mobile originated session established upon a request
from the upper layers to establish an eCall over IMS, then after
transitioning from the PS domain, the MS shall support inband transfer
of the updated MSD according to 3GPP TS 26.267 \[161\].

#### 5.2.4.2a Call activation for vSRVCC

If the MS supports vSRVCC, the MS has a voice media stream and a video
media stream of a single session previously in S1 mode carried over the
PS domain that are handed over to the CS domain via vSRVCC, the session
associated with these media streams is in the \"confirmed\" state
(defined in IETF RFC 3261 \[137\]), and the call control entity in
\"null\" state receives indication \"MM connection establishment due to
vSRVCC handover\", then the call control entity of the MS shall enter
the \"active\" state, set the auxiliary state (defined in
3GPP TS 24.083 \[27\]) to \"idle\", set the multi party auxiliary state
(defined in 3GPP TS 24.084 \[28\]) to \"idle\" and indicate the call
establishment is due to vSRVCC handover to the upper layers. The MS and
the network shall locally set the TI value of the call to \"000\" and
the TI flag value as in mobile terminated call.

If the MS supports single radio PS to CS access transfer for calls in
alerting state as specified in 3GPP TS 24.237 \[136\] subclause 12.2.3B,
and the MS has a single voice media stream and a single video media
stream carried over the PS domain that is handed over to the CS domain
via vSRVCC, and the call control entity of the MS in the \"null\" state
receives indication \"MM connection establishment due to vSRVCC
handover\" then:

\- the call control entity shall indicate to the upper layers that call
establishment is due to vSRVCC handover;

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile originated session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.2, the call control entity
of the MS shall enter the \"call delivered\" state for this transaction.
The MS and the network shall locally set the TI value of the call to
\"000\" and the TI flag value as in mobile terminated call; and

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile terminating session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.1, the call control entity
of the MS shall enter the \"call received\" state for this transaction.
The MS and the network shall locally set the TI value of the call to
\"000\" and the TI flag value as in mobile terminated call.

If the MS supports single radio PS to CS SRVCC for originating calls in
pre-alerting phase as specified in 3GPP TS 24.237 \[136\]
subclause 12.2.3B, and the MS has a single voice media stream and a
single video media stream carried over the PS domain that is handed over
to the CS domain via vSRVCC, and the call control entity of the MS in
the \"null\" state receives indication \"MM connection establishment due
to vSRVCC handover\" then:

\- the call control entity shall indicate to the upper layers that call
establishment is due to vSRVCC handover; and

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile originated session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.3, the call control entity
of the MS shall enter the \"mobile originating call proceeding\" state
for this transaction. The MS and the network shall locally set the TI
value of the call to \"000\" and the TI flag value as in mobile
terminated call.

If the MS supports single radio PS to CS SRVCC for terminating calls in
pre-alerting phase as specified in 3GPP TS 24.237 \[136\]
subclause 12.2.3B, and the MS has a single voice media stream and a
single video media stream carried over the PS domain that is handed over
to the CS domain via vSRVCC, and the call control entity of the MS in
the \"null\" state receives indication \"MM connection establishment due
to vSRVCC handover\" then:

\- the call control entity shall indicate to the upper layers that call
establishment is due to vSRVCC handover; and

\- if the upper layers indicate that the media stream(s) is/are
associated with a mobile originated session in the \"early\" state
(defined in IETF RFC 3261 \[137\]) according to the conditions specified
in 3GPP TS 24.237 \[136\] subclause 12.2.3B.3.2, the call control entity
of the MS shall enter the \"call present\" state for this transaction.
The MS and the network shall locally set the TI value of the call to
\"000\" and the TI flag value as in mobile terminated call.

If the MS supports multicall, the MS shall locally set SI value to \"1\"
and the MS shall assume that the network does not support multicall. The
network shall also locally set SI value to \"1\".If the MS has a mobile
originating session in the \"early\" state (as defined in
IETF RFC 3261 \[137\]) and is providing an internally generated alerting
indication to the user prior to the vSRVCC handover, then after
transitioning from the PS domain, the MS shall continue to provide the
internal alerting indication to the user. The alerting indication is
stopped when the user connection is attached.

#### 5.2.4.2b Multimedia CAT and vSRVCC handover

If the MS has a mobile originating session in the \"early\" state (as
defined in IETF RFC 3261 \[137\]) and is receiving multimedia CAT over
the PS domain prior to the vSRVCC handover, then after transitioning
from the PS domain, the MS stops providing the early media to the user
and may internally generate an alerting indication. The alerting
indication is stopped when the user connection is attached.

#### 5.2.4.3 Traffic channel assignment and user connection attachment

An appropriate traffic channel for the call is assigned in SRVCC
handover, vSRVCC handover or 5G-SRVCC handover from NG-RAN to UTRAN.

For SRVCC handover or 5G-SRVCC handover from NG-RAN to UTRAN, the mobile
station shall attach the user connection:

\- when the call control entity enters the \"active\" state or the
\"call received\" state;

\- when the call control entity enters the \"call delivered\" state, if
prior to SRVCC the MS in the PS domain was receiving media for the
session subjected to SRVCC handover or 5G-SRVCC handover from NG-RAN to
UTRAN; and

\- when the call control entity enters the \"mobile originating call
proceeding\" state, if prior to SRVCC the MS in the PS domain was
receiving media for the session subjected to SRVCC handover5G-SRVCC
handover from NG-RAN to UTRAN.

NOTE: The attachment of the user connection prior to entering the
\"active\" state allows the network to provide in-band tones and
announcements to the UE.

For vSRVCC handover, the mobile station shall attach the user connection
when the call control entity enters the \"active\" state.

For SRVCC or vSRVCC handover to a speech call, the principles of speech
codec selection are described in subclause 5.2.1.11.

For vSRVCC handover to a circuit-switched multimedia call, further
requirements are specified in subclause 5.3.6.6.

#### 5.2.4.4 State verification

The network may check the call and auxiliary states of its peer entity
as specified in subclause 5.5.3.1 when the PS to CS access transfer is
complete.

5.3 Signalling procedures during the \"active\" state
-----------------------------------------------------

### 5.3.1 User notification procedure

The mobile terminating user notification procedure allows the network to
notify a mobile station of any appropriate call-related event during the
\"active\" state of a call. The procedure consists in the network
sending a NOTIFY message to the mobile station. No state change occurs
at any of the interface sides following the sending or the receipt of
this message (but an appropriate indication may optionally be generated
in the mobile station).

The mobile originating notification procedure allows the mobile station
to notify the remote user of any appropriate call-related event during
the \"active\" state of a call by sending a NOTIFY message containing a
notification indicator to the network; upon receipt of this message, the
network sends a NOTIFY message containing the same notify indicator to
the other user involved in the call. No state change occurs at any of
the interface sides following the sending or the receipt of this
message.

### 5.3.2 Call rearrangements

Call rearrangements on the radio interface are not supported by explicit
messages (e.g. SUSPEND and RESUME messages as defined in
ETSI ETS 300 102-1 \[70\]). However if a remote non-PLMN user initiates
call rearrangements, the network shall inform the mobile station by
means of a NOTIFY message. In a similar way the mobile station can
inform the network about rearrangements by sending a NOTIFY message
(e.g. change of user equipment connected to the mobile station).

### 5.3.3 Codec Change Procedure

During a speech call in UMTS, if a mobile station supports more than one
UMTS codec, the network can change the UMTS codec via RRC procedures. In
order to request the mobile station to change the codec, the network
shall send the new selected codec type in the NAS Synchronisation
Indicator IE (RRC protocol), see subclause 5.2.1.11.

### 5.3.4 Support of Dual Services

The behaviour described in this subclause is used to realize the
following required services throughout subclause 5.3.4. The mobile
station is not obliged to support the network originated in-call
modification procedure. In that case, the mobile station shall, when
receiving a MODIFY message, treat the message as unknown and react as
described in subclause 8.4. If the mobile station is already prepared to
support the procedure in both directions, it shall act as described in
this subclause.

Alternate Speech/Group 3 fax (Teleservice 61 according to
3GPP TS 22.003 \[4\]).

#### 5.3.4.1 Service Description

This circuit switched service allows the two users on a point-to-point
connection to use the connection between them for different information
transfer during the same call, but not at the same time.

If the negotiation during call establishment leads to the recognition of
the above mentioned services, the in-call modification procedure is
allowed to be executed within the current call by changing from one call
mode to the other.

In some cases the in-call modification procedure makes it necessary to
change the channel configuration by allocating a new channel and in
other cases to change channel configuration parameters while keeping the
previously allocated channel. This change is determined by the network,
which initiates either the channel assignment procedure, handover
procedure or channel mode modify procedure (see clause 3).

The capability and the initial mode desired must be identified by the
mobile station by identifying each mode of operation with a separate
information element during call establishment. Further the type of
change between the modes must be identified by means of the repeat
indicator:

mode 1 \"alternate\" mode 2.

#### 5.3.4.2 Call establishment

For both mobile originating and mobile terminating calls, the normal
call establishment procedures apply.

##### 5.3.4.2.1 Mobile Originating Establishment

The service is requested by the originating mobile station by
transferring a SETUP message to the network containing the *BC repeat
indicator* IE, the *bearer capability 1* information element, and the
*bearer capability 2* information element. The first mode of operation
(\"call mode\") shall be indicated by the *bearer capability 1*
information element and the second call mode by the *bearer capability*
*2* information element.

A low layer compatibility may optionally be specified for each call mode
in a *low layer compatibility I* and *low layer compatibility II*
information element. In that case:

\- the SETUP message shall contain the *LLC repeat indicator* IE and
both *low layer compatibility I* and *low layer compatibility II*
information elements. The *low layer compatibility I* information
element then corresponds to the *bearer capability 1* information
element and the *low layer compatibility II* information element to the
*bearer capability 2* information element;

\- if no low layer compatibility specification applies for one of the
two call modes, the corresponding low layer compatibility IE (*low layer
compatibility I* or *low layer compatibility II)* shall indicate \"not
applicable\";

\- the *LLC repeat indicator* shall specify the same repeat indication
as the *BC repeat indicator* IE.

Similarly, a high layer compatibility may optionally be specified for
each call mode in a *high layer compatibility i* and *high layer
compatibility ii* information element. In that case:

\- the SETUP message shall contain the *HLC repeat indicator* IE and
both *high layer compatibility i* and *high layer compatibility ii*
information elements. The *high layer compatibility i* information
element then corresponds to the *bearer capability 1* information
element and the *high layer compatibility ii* information element to the
*bearer capability 2* information element;

\- if no high layer compatibility specification applies for one of the
two call modes, the corresponding high layer compatibility IE (*high
layer compatibility i* or *high layer compatibility ii)* shall indicate
\"not applicable\";

\- the *HLC repeat indicator* shall specify the same repeat indication
as the *BC repeat indicator* IE.

The receiving entity shall ignore whether the *LLC repeat indicator* IE
or *HLC repeat indicator* are contained in the message or not; it shall
also ignore the repeat indication of an *LLC repeat indicator* IE or
*HLC repeat indicator* IE. If the *low layer compatibility II* IE is not
contained in the message and the *low layer compatibility I* IE is
contained in the message, the receiving entity shall relate it to a call
mode indicated in the message that does not specify speech (if any). If
the *high layer compatibility ii* IE is not contained in the message and
the *high layer compatibility i* IE is contained in the message, the
receiving entity shall relate it to a call mode indicated in the message
that does not specify speech (if any).

The specific part of the network which is sensitive to the call mode
shall examine each mode described in the bearer capabilities included in
the SETUP message by performing compatibility checking as defined in
Annex B. If as a result of this compatibility checking the network
decides to reject the call, then the network shall initiate call
clearing as specified in subclause 5.4 with the following causes:

a\) \#57 \"bearer capability not authorized\";

b\) \#58 \"bearer capability not presently available\";

c\) \#65 \"bearer service not implemented\";

d\) \#70 \"only restricted digital information bearer capability is
available\".

##### 5.3.4.2.2 Mobile Terminating Establishment

The service is indicated to the called mobile station by a SETUP message
coded in the same manner as in the mobile originating call
establishment. As specified for normal terminating call establishment,
the service may be indicated by the called mobile station in the CALL
CONFIRMED message.

The destination mobile station shall perform the compatibility checking
as defined in Annex B for both required modes if indicated in the SETUP
message. If as a result of compatibility checking the mobile station
decides to reject the call, the mobile station shall initiate call
clearing according to the procedures of subclause 5.4 with one of the
following causes:

a\) \#57 \"bearer capability not authorized\";

b\) \#58 \"bearer capability not presently available\";

c\) \#65 \"bearer service not implemented\";

d\) \#88 \"incompatible destination\".

The mobile station may accept the call if the first mode indicated is
free irrespective of whether the other mode is free or busy.

#### 5.3.4.3 Changing the Call Mode

In order to change the call mode, the following in-call modification
procedures shall be used.

Either side of the radio interface may act as the requesting user to
invoke the in-call modification.

Upon each successful completion of the in-call modification procedure,
the call changes to the next mode negotiated and agreed during the
establishment phase of the call.

The in-call modification procedures are completely symmetrical at the
radio interface.

##### 5.3.4.3.1 Initiation of in-call modification

The procedure is initiated by the requesting originating side in the
\"active\" state of the call. It shall send a MODIFY message including
the new mode to be changed to. The requesting originating side shall
also start timer T323 and enter the \"mobile originating modify\" state
(mobile station side) or the \"mobile terminating modify\" state
(network side). The new mode given in the MODIFY message shall be one of
those already negotiated and agreed during the establishment phase of
the call. If the data call direction is different from the direction of
the call setup a reverse call setup direction IE shall be included in
the MODIFY message; otherwise this IE shall not be included.

If the in-call modification is originated by the mobile station, the
mobile station shall reserve any internal resources necessary to support
the next call mode, stop sending Bm-channel information; and stop
interpreting received Bm-channel information according to the old call
mode.

If the in-call modification is originated by the network, the network
may reserve any internal resources necessary to support the next call
mode. The network shall stop sending Bm-channel information and stop
interpreting received Bm-channel information according to the old call
mode at the latest when it changes the channel configuration.

Upon receipt of the MODIFY message, the destination side shall check to
ensure that the requested call mode can still be supported and if so, it
shall initiate the reservation of any resources necessary to support the
next call mode; start T324 (mobile station side only) if the in-call
modification procedure is triggered as a result of a service change from
speech to UDI/RDI multimedia modes; and enter the \"mobile originating
modify\" (network side) or \"mobile terminating modify\" state (mobile
station side).

##### 5.3.4.3.2 Successful completion of in-call modification

If the destination network/mobile station receives a MODIFY message with
a new mode which is already the actual one of the call the
network/mobile station shall remain in the \"active\" state; send a
MODIFY COMPLETE message with the actual mode; and shall not initiate
anything else.

If the requested mode is speech and if during call establishment the
network received a *Supported Codec List* IE, the network shall use this
list to select the codec for UTRAN. If no *Supported Codec List*
information element is received, then for UTRAN the network shall select
the default UMTS speech codec according to subclause 5.2.1.11.

Codecs for GERAN shall be selected from the codecs indicated in the
*Supported Codec List* information element or in the *Bearer Capability*
information element. If neither a *Supported Codec List* information
element nor a *Bearer Capability* information element is received, then
for GERAN the network shall select GSM full rate speech version 1.

If the *Supported Codec List* IE is received, then the network shall
indicate the codec selected for Iu mode to the mobile station via RANAP
and RRC protocol in the NAS Synchronisation Indicator IE (see
subclause 5.2.1.11).

If the in-call modification was originated by the mobile station, the
mobile station and the network shall proceed as follows:

If the requested mode is not the actual one and can be supported by the
network it shall change the channel configuration, if required, and step
on to any internal resources necessary to support the next call mode. If
the requested mode is a data or facsimile mode, it shall also perform
the appropriate means to take the direction of the data call into
account. After successful change of the channel configuration it shall
start sending user information according to the next call mode and start
interpreting received user channel information according to the next
call mode; send a MODIFY COMPLETE message with the new call mode
included and enter the \"active\" state (network side). If the MODIFY
message had contained a *reverse call setup direction* IE, the same IE
shall be included in the MODIFY COMPLETE message.

Upon receipt of the MODIFY COMPLETE message the mobile station shall:
initiate the alternation to those resources necessary to support the
next call mode; stop timer T323; and enter the \"active\" state (mobile
station side).

If the in-call modification was originated by the network, the mobile
station and the network shall proceed as follows:

If the requested mode is not the actual one and can be supported by the
mobile station it shall reserve any internal resources necessary to
support the next call mode.

NOTE: For a change from speech to a different call mode, user
interaction may be required, before the mobile decides that the
requested mode can be supported.

If the requested mode is a data or facsimile mode, it shall also perform
the appropriate means to take the direction of the data call into
account. The mobile station shall send a MODIFY COMPLETE message with
the new call mode included, stop timer T324 and enter the \"active\"
state (mobile station side). If the MODIFY message had contained a
*reverse call setup direction* IE, the same IE shall be included in the
MODIFY COMPLETE message. If the old call mode is speech, the mobile
station shall continue sending Bm-channel information and interpreting
received Bm-channel information for speech until the network modifies
its channel configuration.

After receipt of the MODIFY COMPLETE message the network shall: reserve
any internal resources necessary to support the next call mode, stop
sending Bm-channel information, and stop interpreting received
Bm-channel information according to the old call mode, unless these
actions were already performed earlier. Furthermore, the network shall
change the channel configuration, if required; after successful change
of the channel configuration initiate the alternation to those resources
necessary to support the next call mode; stop timer T323; and enter the
\"active\" state (network side).

The mobile station shall start sending user information according to the
next call mode and start interpreting received user channel information
according to the next call mode as soon as a suitable channel for the
new mode is available.

In both cases:

For an alternate speech/facsimile group 3 service (refer to
subclause 5.3.4) the old resources may still be kept reserved.

The reaction of the originating side if it had included a reverse call
setup direction IE in the MODIFY message, but the destination side did
not include the IE in the MODIFY COMPLETE message is implementation
dependent.

##### 5.3.4.3.3 Change of the channel configuration

In case the requested bearer capability cannot be supported by the
current channel configuration the network shall initiate the assignment
procedure and change the channel configuration accordingly.

##### 5.3.4.3.4 Failure of in-call modification

##### 5.3.4.3.4.1 Network rejection of in-call modification {#network-rejection-of-in-call-modification .H6}

If the network cannot support the change to the requested call mode or
if the change of the channel configuration fails the network shall:
release the resources which had been reserved for the alternation: send
a MODIFY REJECT message with the old bearer capability and with cause \#
58 \"bearer capability not presently available\" to the initiating
mobile station; and enter the \"active\" state. If the change of the
channel configuration fails, the network shall return to the internal
resources required for the old call mode.

Upon receipt of the MODIFY REJECT message with the old bearer capability
the initiating mobile station shall: stop timer T323; release any
resources which had been reserved for the alternation; resume sending
user channel information according to the present call mode; resume
interpreting received user channel information according to the present
call mode; and enter the \"active\" state.

##### 5.3.4.3.4.2 Mobile station rejection of in-call modification  {#mobile-station-rejection-of-in-call-modification .H6}

If the mobile station cannot support the change to the requested call
mode, the mobile station shall: stop timer T324; release any resources
which had been reserved for the alternation; send a MODIFY REJECT
message with the old bearer capability and cause \# 58 \"bearer
capability not presently available\", and enter the \"active\" state.

Upon receipt of the MODIFY REJECT message the network shall: stop timer
T323, release any resources which had been reserved for the alternation.

##### 5.3.4.3.4.3 Time-out recovery {#time-out-recovery .H6}

Upon expiration of T323 in either the mobile station or the network the
procedures for call clearing shall be initiated (see subclause 5.4) with
cause \# 102 \"recovery on timer expiry\".

Upon expiration of T324 the mobile station shall: release any resources
which had been reserved for the alternation; send a MODIFY REJECT
message with the old bearer capability and cause \#58 \"bearer
capability not presently available\"; and enter the \"active\" state.

#### 5.3.4.4 Abnormal procedures

If a MODIFY, MODIFY COMPLETE or MODIFY REJECT message is received in the
\"disconnect indication\", \"disconnect request\" (mobile station side
only) or \"release request\" state then the received message shall be
discarded and no action shall be taken.

If a MODIFY COMPLETE message indicating a call mode which does not
correspond to the requested one is received or if a MODIFY REJECT
message indicating a call mode which does not correspond to the actual
one is received then the received message shall be discarded and no
action shall be taken.

If a MODIFY message indicating a call mode which does not belong to
those negotiated and agreed during the establishment phase of the call,
is received, then a MODIFY REJECT message with the actual call mode and
with cause \# 57 \"bearer capability not authorized\" shall be sent
back.

![](media/image39.png){width="3.861111111111111in"
height="1.5972222222222223in"}

Figure 5.10a/3GPP TS 24.008 In-call modification sequence initiated by
MS

![](media/image40.png){width="3.8472222222222223in"
height="1.5694444444444444in"}

Figure 5.10b/3GPP TS 24.008 In-call modification sequence initiated by
network

### 5.3.5 User initiated service level up- and downgrading (A/Gb mode and GERAN Iu mode only)

The user initiated service level up- and downgrading is applicable for
non-transparent multislot data services, only. By means of this
procedure the user can request a change of the \"maximum number of
traffic channels\" and/or \"wanted air interface user rate\" parameters,
to be assigned by the network.

#### 5.3.5.1 Initiation of service level up- and downgrading

The procedure is initiated by the mobile station in the \"active\" state
of the call. It shall:

‑ send a MODIFY message including the wanted value of the \"maximum
number of traffic channels\" and/or the \"wanted air interface user
rate\" parameters;

‑ not change any of the other, possibly negotiated, parameters of the
bearer capability information element;

‑ start timer T323; and

‑ enter the \"mobile originating modify\" state.

Any internal resources necessary to support the next service parameters
shall be reserved. If a dual service was negotiated at call setup, the
mobile station shall initiate the service level up- or down-grading only
during the data phase of the dual service.

Upon receipt of the MODIFY message, the network shall check if the
indicated maximum number of traffic channels can be supported and enter
the \"mobile originating modify\" state.

#### 5.3.5.2 Successful completion of service level up- and downgrading

The network may upon reception of the MODIFY message initiate a change
of the channel configuration assigned to the mobile station.

As a response to the MODIFY message the network sends a MODIFY COMPLETE
message including the bearer capability negotiated at call setup and
enters the \"active\" state.

Upon receipt of the MODIFY COMPLETE message the mobile station shall
stop timer T323 and enter the \"active\" state.

#### 5.3.5.3 Rejection of service level up- and downgrading

If a change of bearer service is requested together with a change of the
\"maximum number of traffic channels\" and/or the \"wanted air interface
user rate\", or if the current used service is not a data service where
up- and downgrading is applicable, or if the receiver chooses not to
grant the request, the network shall:

‑ send a MODIFY REJECT message with bearer capability negotiated at call
setup and with cause \#58 \"bearer capability not presently available\";

‑ enter the \"active\" state.

Upon receipt of the MODIFY REJECT message with the bearer capability
negotiated at call setup, the mobile station shall: stop timer T323 and
enter the \"active\" state.

#### 5.3.5.4 Time-out recovery

Upon expiration of T323 in the mobile station the procedures for call
clearing shall be initiated with cause \#102 \"recovery on timer
expiry\".

### 5.3.6 Support of multimedia calls

#### 5.3.6.1 Service description

The 3GPP circuit-switched multimedia call is based on the 3G-324M (see
3GPP TS 26.111 \[80\]), which is a 3GPP-variant of the
ITU-T Recommendation H.324 \[146\]. CS Multimedia telephony is a Bearer
Service, which utilizes the Synchronous Transparent Data service (BS30),
see 3GPP TS 22.002 \[3\].

At the multimedia call setup the required call type, 3G-324M, is
indicated, for the network to be able to invoke appropriate interworking
functionality. In the peer end the H.324 information is used to invoke
the terminal application. In addition to H.324 indication the terminal
must select Information Transfer Capability (ITC) for the multimedia
call. The \'correct\' ITC depends on the peer end and the transporting
networks; an all-ISDN call is a UDI/RDI call, and a call, which involves
PSTN, is an analog \"3.1 kHz audio\" call.

For the case when the setup of a multimedia call is not successful,
fallback to speech is specified.

Users may also request a service change between UDI/RDI multimedia and
speech modes during a call (see 3GPP TS 23.172 \[97\]).

#### 5.3.6.2 Call establishment

For both mobile originating and mobile terminating calls, the normal
call establishment procedures apply, with the exceptions specified in
the following subclauses.

For further description of the function of MSC/IWF in the following
clauses, see 3GPP TS 29.007 \[38\].

##### 5.3.6.2.1 Mobile originated multimedia call establishment

At call setup the required call type, 3G-324M, is indicated by the
originating MS in the SETUP message, with the *bearer capability IE*
parameter Other Rate Adaption set to \"H.223 and H.245\".

For analogue multimedia, the support of a fallback to speech is
requested by including two *bearer capability IEs,* multimedia first and
speech as the second BC in the SETUP message. The MS shall indicate
fallback to speech by these two BC IEs and the associated Repeat
Indicator set to \"support of fallback\".

For UDI/RDI multimedia, the support of a fallback and service change is
requested by including two *bearer capability IEs*, with the first BC as
the preferred service in the SETUP message. The MS shall indicate
service change and fallback by these two BC IEs and the associated
Repeat Indicator set to \"support of service change and fallback\".

If the *bearer capability IE* is received from the MS either in A/Gb or
GERAN Iu mode and indicates no A/Gb mode support for the requested
bearer service, the network shall consider it as a request to perform an
inter-system handover to UTRAN Iu mode, as described in
3GPP TS 23.009 \[114\] subclause 14.2.

The bearer compatibility checking in the network is according to
subclause 5.3.4.2.1.

If the MS requested for an analogue multimedia call with fallback to
speech, or for a UDI/RDI multimedia call with fallback and service
change, and the network accepts the call, the network has the following
options for the inclusion of *bearer capability IEs* in the CALL
PROCEEDING message:

\- if the network accepts the requested analogue multimedia call and
supports fallback to speech, both multimedia and speech *bearer
capability IEs* shall be included;

\- if the network accepts the requested UDI/RDI multimedia call and
supports fallback and service change, both multimedia and speech *bearer
capability IEs* shall be included. The order of the *bearer capability*
IEs determines the preferred service, and the network may reverse the
order of these IEs (see 3GPP TS 23.172 \[97\], subclause 4.2.1);

\- if the network accepts a multimedia (only) call, a multimedia *bearer
capability IE* shall be included;

\- if the network accepts a speech (only) call, a speech *bearer
capability IE* shall be included;

\- for a UDI/RDI multimedia call, if the network accepts the requested
speech call and supports service change, both multimedia and speech
*bearer capability IEs* shall be included. The order of the *bearer
capability* IEs determines the preferred service, and the network may
reverse the order of these IEs (see 3GPP TS 23.172 \[97\],
subclause 4.2.1);

\- if the network received a UDI/RDI multimedia *bearer capability* IE
with FNUR equal to 32kbit/s and a speech *bearer capability* IE in the
SETUP message, the network shall not release the call, but shall reply
with one *bearer capability* IE only, as specified in
3GPP TS 23.172 \[97\].

NOTE: Service change and fallback for UDI/RDI multimedia calls is not
supported with Fixed Network User Rate set to 32 kbit/s (see
3GPP TS 23.172 \[97\]).

If the MS requested for a multimedia call only, and the network accepts
the call, the network shall always include a single multimedia *bearer
capability IE* in the CALL PROCEEDING message.

The originating user shall determine (possibly by pre-configuration of
the terminal) whether a digital connection is required or if the call
will be an analog modem call. If the call is expected to be digital the
multimedia *bearer capability* IE parameter ITC is set to UDI/RDI. In an
analog call the multimedia *bearer capability* IE parameter ITC is set
to \"3,1 kHz audio ex PLMN\". Additionally required modem type is
indicated (Other Modem Type = V.34).

##### 5.3.6.2.1.1 Fallback {#fallback .H6}

If the network, during the setup of an H.324-call, detects that the
transit network or the called end does not support an H.324 call (*e.g.*
because of a failure in the modem handshaking in case of an analogue
multimedia call), then the network initiates the in-call modification
procedure (see subclause 5.3.4.3) towards the MS to modify the call mode
to speech, if the MS had included a speech *bearer capability* *IE* in
the SETUP message.

In case of a UDI/RDI multimedia call with service change and fallback,
if the network detects that the called end does not support speech, then
it initiates an in-call modification procedure towards the MS to modify
the call mode to multimedia, if the first *bearer capability IE* was for
a speech call.

##### 5.3.6.2.2 Mobile terminating multimedia call

At call setup the required call type, 3G-324M, is indicated by the
network in the SETUP message, with the *bearer capability IE* parameter.
Other Rate Adaption set to \'H.223 and H.245\'. ITC is either \'3,1 kHz
audio ex PLMN\' or \'UDI/RDI\'.

For analogue multimedia, if the network supports fallback to speech and
the subscriber has subscription to speech, two *bearer capability* IEs,
multimedia first and speech as the second BC are included in the SETUP
message. The network shall indicate fallback to speech by these two BC
IEs and the associated Repeat Indicator set to \"support of fallback\".

For UDI/RDI multimedia, if the network supports fallback and service
change, and the subscriber has subscription to speech, two *bearer
capability IEs*, with the first BC as the preferred service are included
in the SETUP message. The network shall indicate service change and
fallback by these two BC IEs and the associated Repeat Indicator set to
\"service change and fallback\".

If the *bearer capability IE* is received from the MS either in A/Gb or
GERAN Iu mode and indicates no A/Gb mode support for the requested
bearer service, the network shall consider it as a request to perform an
inter-system handover to UTRAN Iu mode, as described in
3GPP TS 23.009 \[114\] subclause 14.2.

*The bearer capability IE(s)* may (in the case of the single numbering
scheme) be missing from the SETUP message.

The bearer compatibility checking in the MS is according to
subclause 5.3.4.2.2.

The MS shall indicate the supported call type(s) in the CALL CONFIRMED
message, which is the acknowledgement to SETUP. If the network offered
an analogue multimedia call with fallback to speech, or a UDI/RDI
multimedia call with fallback and service change, the MS has the
following options for the inclusion of *bearer capability IEs* in the
CALL CONFIRMED message:

\- if the MS/user accepts the offered analogue multimedia call and
supports fallback to speech, both multimedia and speech *bearer
capability IEs* shall be included;

\- if the MS/user accepts the offered UDI/RDI multimedia call, and
supports fallback and service change, both multimedia and speech *bearer
capability IEs* shall be included. The order of the BC IEs determines
the preferred service, and the MS/user may reverse the order of these
IEs;

\- if the MS/user accepts the offered multimedia call, but does not
support fallback or service change, only a multimedia *bearer capability
IE* shall be included;

\- if the MS/user wishes a speech (only) call a speech *bearer
capability IE* is included;

\- for a UDI/RDI multimedia call, if the MS/user accepts the offered
speech call and supports service change, both speech and multimedia
*bearer capability IEs* shall be included. The order of the BC IEs
determines the preferred service, and the MS/user may reverse the order
of these IEs.

If the network offered a multimedia call only, and the MS/user accepts
the call, the MS shall always include a single multimedia *bearer
capability IE* in the CALL CONFIRMED message.

If the SETUP contained no *bearer capability IE* the network shall
perform compatibility checking of the CALL CONFIRMED message in the same
way as the compatibility checking of the SETUP message in the mobile
originating call case, described in subclause 5.3.6.2.1.

###### 5.3.6.2.2.1 Fallback to speech

If modem handshaking fails (in a modem call), the call mode will be
modified to speech if a speech *bearer capability IE* was included. The
modem signalling is inband, so the call must have reached the active
state, when these conclusions about the presence of modems can be done.
The call modifications are realized through the in-call modification
procedure, by which the network requests the MS to modify the call mode
(see subclause 5.3.4.3).

NOTE: Fallback from digital (UDI) H.324-call to speech after call setup
is not a valid case at the terminating side.

#### 5.3.6.3 In-call modification in the \"active\" state

The in-call modification procedure as described in subclause 5.3.4.3
shall be used to:

\- trigger a service change between speech and UDI/RDI multimedia modes,
when service change has been agreed at call setup;

\- trigger a network-initiated service upgrade from speech to UDI/RDI
multimedia modes (see 3GPP TS 23.172 \[97\]). The network shall initiate
this procedure only if the mobile station indicated support of the
enhanced network-initiated in-call modification procedure in the Call
Control Capabilities IE at call establishment. In this case, the MODIFY
message shall include the *Network-initiated Service Upgrade indicator*
IE; or

\- modify the multimedia bearer capability for an analogue multimedia
call (restricted to the network initiated in-call modification only). In
this case, the network shall send a MODIFY message including the new
Bearer Capability to be changed to. The following bearer capability
parameters can be modified with the procedure (see 3GPP TS 29.007
\[38\]):

\- Fixed Network User Rate (analogue multimedia calls only).

##### 5.3.6.3.1 Void

##### 5.3.6.3.2 Void

##### 5.3.6.3.3 Void

##### 5.3.6.3.3.1 Void {#void-10 .H6}

##### 5.3.6.3.3.2 Void {#void-11 .H6}

#### 5.3.6.4 Multimedia CAT during the alerting phase of a mobile originated call

A mobile station supporting multimedia CAT during the alerting phase of
a mobile originated multimedia call establishment shall indicate support
of this capability to the network in the Call Control Capabilities
information element in the SETUP message.

The network may generate a multimedia CAT to such a mobile station
before it has reached the \"active\" state of a call. To do so, the
network shall through connect the traffic channel towards the source of
the multimedia CAT and send a *progress indicator* IE indicating user
attachment with progress description \#9 \"In-band multimedia CAT
available\" in either an ALERTING message or a PROGRESS message that is
sent to the mobile station during call establishment.

On reception of an ALERTING or a PROGRESS message the mobile station
shall proceed as specified elsewhere in clause 5; if the *progress
indicator* IE indicated user attachment with progress description \#9
\"In-band multimedia CAT available\", the mobile station shall:

\- attach the user connection for multimedia as soon as an appropriate
channel in multimedia mode is available; and

\- set up an H.324 call.

It is up to the network to ensure that no undesired end-to-end through
connection with the called party takes place during the establishment of
a mobile terminated call.

The mobile station shall not abort the call if an error or H.324 call
clearing occurs during the setup or the lifetime of the H.324 call
during the alerting phase; the call control entity of the calling mobile
station shall remain in its current state.

Upon reception of a new request from the network to attach the user
connection with progress description \#9 \"In-band multimedia CAT
available\", the mobile station shall release any on-going H.324 call,
and set up a new H.324 call.

NOTE: The network can request the mobile station to restart a new H.324
call during the alerting phase of the call e.g. during call forwarding
scenarios to transmit to the calling party the multimedia CAT of the
forwarded-to party.

The network may initiate the in-call modification procedure (see
subclause 5.3.4.3) towards the MS in the \"call delivered\" state to
modify the call mode to speech, if service change has been agreed at
call setup.

Upon receiving an indication that the call has been accepted, the call
control entity of the network shall send a CONNECT message to its peer
entity at the calling mobile station; start timer T313 and enter the
\"connect indication\" state. This message indicates to the call control
entity of the calling mobile station that a connection has been
established through the network.

On reception of a CONNECT message, the mobile station shall proceed as
specified elsewhere in clause 5; the mobile station shall release any
on-going H.324 call and set up a new H.324 call towards the called
party.

Mobile stations supporting multimedia CAT during the alerting phase of a
mobile originated multimedia call establishment should also support the
Media Oriented Negotiation Acceleration procedures specified in
ITU-T Recommendation H.324 Amendment 1 \[117\] and
ITU-T Recommendation H.324 Amendment 2 \[118\].

#### 5.3.6.5 DTMF transmission during a multimedia call

A mobile station supporting multimedia CAT during the alerting phase of
a mobile originated multimedia call establishment should support
transmission of DTMFs during a H.324 call using the H.245
UserInputIndication message (see ITU-T H.245 \[119\]) if it has attached
the user connection for multimedia and an appropriate channel is
available.

NOTE: DTMF can be used to convey to the network the end user request to
stop or copy an on-going multimedia CAT.

#### 5.3.6.6 vSRVCC handover to a circuit-switched multimedia call

Upon vSRVCC handover to a traffic channel suitable for a data call, the
MS shall use a single bearer capability IE for multimedia with ITC set
to \"UDI\" and FNUR set to 64 kbit/s for the call.

NOTE: After the MS has attached the user connection (see
subclause 5.2.4.3), the MS initially uses predefined codecs for voice
and video as specified in 3GPP TS 26.111 \[80\]. Additionally, the MS
can perform in-band codec re-negotiation using H.245 signalling
according to the procedures defined in 3GPP TS 26.111 \[80\].

5.4 Call clearing
-----------------

### 5.4.1 Terminology

The following terms are used in the present document in the description
of clearing procedures:

\- A traffic channel (see 3GPP TS 44.003 \[16\]) is \"connected\" when
the channel is part of a circuit-switched connection established
according to the present document.

\- A traffic channel is \"disconnected\" when the channel is no longer
part of a circuit-switched connection, but is not yet available for use
in a new connection.

### 5.4.2 Exception conditions

Under normal conditions, the call control entity of the mobile station
or of the network initiates call clearing by sending a DISCONNECT
message to its peer entity; then both entities follow the procedures
defined in subclauses 5.4.3 and 5.4.4 respectively.

As an exception to the above rule, the call control entity of the mobile
station or of the network, in response to a SETUP or START CC or
CC-ESTABLISHMENT CC-ESTABLISHMENT CONFIRMED or RECALL message, can
reject a call by stopping all running call control timers, responding
with a RELEASE COMPLETE message, releasing the MM connection, and
returning to the \"null\" state, provided no other response has
previously been sent.

As a further exception, the call control entity of the network may
initiate call clearing by stopping all running call control timers,
sending a RELEASE message, starting timer T308, and entering the
\"release request\" state.

NOTE: This way to initiate call clearing by sending a RELEASE message
should not be used by the network:

\- if in-band tones/announcements are provided and the network decides
to use the procedure described in subclause 5.4.4.1.1.1 or 5.4.4.2.1;

\- if the network wants to have the opportunity to respond to
information sent by the mobile station during call clearing, e.g. when
the network indicates that \"CCBS activation is possible\".

A call control entity shall accept an incoming RELEASE COMPLETE message
used to initiate the call clearing even though the cause information
element is not included.

A control entity shall accept an incoming RELEASE message used to
initiate the call clearing even though the cause information element is
not included.

Furthermore, a call control entity shall regard an incoming RELEASE
COMPLETE message as consistent with any of its states; a call control
entity shall regard an incoming RELEASE message as consistent with any
of its states except the null state: a call control entity of the mobile
station shall regard an incoming DISCONNECT message as consistent with
any of its call control states except the \"null\" state, the \"release
request\" state, and the \"disconnect indication\" state; a call control
entity of the network shall regard an incoming DISCONNECT message as
consistent with any of its call control states except the \"null\" state
and the \"release request\" state.

NOTE: This allows the introduction of shorter call clearing procedures
in the future.

### 5.4.3 Clearing initiated by the mobile station

#### 5.4.3.1 Initiation of call clearing

Apart from the exceptions identified in subclause 5.4.2, the call
control entity of the mobile station shall initiate clearing by:
stopping all running call control timers, sending a DISCONNECT message;
starting timer T305; and entering the \"disconnect request\" state.

#### 5.4.3.2 Receipt of a DISCONNECT message from the mobile station.

The call control entity in the network in any state except the \"null\"
state and the \"release request\" state shall, upon receipt of a
DISCONNECT message:

\- Stop all running call control timers;

\- initiate procedures to clear the network connection and the call to
the remote user;

\- send a RELEASE message to its peer entity;

\- start timer T308; and

\- enter the \"release request\" state.

NOTE: The RELEASE message has only local significance and does not imply
an acknowledgement of clearing from the remote user.

#### 5.4.3.3 Receipt of a RELEASE message from the network

The call control entity of the mobile station in any state except the
\"null\" state and the \"release request\" state, shall, upon receipt of
a RELEASE message: stop all running call control timers; send a RELEASE
COMPLETE message; release the MM connection; and return to the \"null\"
state.

#### 5.4.3.4 Receipt of a RELEASE COMPLETE message from the mobile station

A call control entity of the network in any call control state shall,
upon receipt of a RELEASE COMPLETE message from its peer entity in the
mobile station: stop all running call control timers; release the MM
connection; and return to the \"null\" state.

#### 5.4.3.5 Abnormal cases

The call control entity of the mobile station in the \"disconnect
request\" state, shall upon expiry of timer T305: send a RELEASE message
to the network with the cause number originally contained in the
DISCONNECT message and optionally, a second cause information element
with cause \#102 \"recovery on timer expiry\", start timer T308, and
enter the \"release request\" state.

The call control entity of the network in the \"release request\" state,
shall, at first expiry of timer T308, retransmit the RELEASE message,
start timer T308, and stay in the \"release request\" state. At second
expiry of timer T308, the call control entity of the network shall:
release the MM connection; and return to the \"null\" state.

### 5.4.4 Clearing initiated by the network

Apart from the exception conditions identified in subclause 5.4.2, the
call control entity of the network shall initiate clearing by: sending a
DISCONNECT message; and entering the \"disconnect indication\" state.
The DISCONNECT message is a local invitation to clear the call.

NOTE: When the network initiates clearing by sending a RELEASE message,
the procedures described in subclauses 5.4.3., 5.4.3.4 and 5.4.3.5 are
followed.

A mobile station that does not support the \"Prolonged Clearing
Procedure\" shall comply with the requirements of subclause 5.4.4.1 and
shall ignore subclause 5.4.4.2. A mobile station that supports the
\"Prolonged Clearing Procedure\" shall comply with the requirements of
subclauses 5.4.4.2 and shall ignore subclause 5.4.4.1.

#### 5.4.4.1 Clearing initiated by the network: mobile does not support \"Prolonged Clearing Procedure\"

Sublause 5.4.4.1 only applies to mobile stations that do not support the
\"Prolonged Clearing Procedure\" option.

#### 5.4.4.1.1 Clearing when tones/announcements provided

When in-band tones/announcements are provided (see subclause 5.5.1), the
call control entity of the network may initiate clearing by sending a
DISCONNECT message containing progress indicator \#8 \"in-band
information or appropriate pattern now available\", starting timer T306,
and entering the \"disconnect indication\" state.

##### 5.4.4.1.1.1 Receipt of a DISCONNECT message with progress indicator \#8 from the network {#receipt-of-a-disconnect-message-with-progress-indicator-8-from-the-network .H6}

The call control entity of the MS in any state except the \"null\"
state, the \"disconnect indication\" state, and the \"release request\"
state, shall, upon receipt of a DISCONNECT message with progress
indicator \#8:

i\) if an appropriate speech traffic channel is not connected, continue
clearing as defined in subclause 5.4.4.1.2.1 without connecting to the
in-band tone/announcement;

ii\) if an appropriate speech traffic channel is connected, attach the
user connection for speech if it is not yet attached and enter the
\"disconnect indication\" state. In that state, if upper layers request
the clearing of the call, the call control entity of the MS shall
proceed as defined in subclause 5.4.4.1.2.1.

##### 5.4.4.1.1.2 Expiry of timer T306 {#expiry-of-timer-t306 .H6}

The call control entity of the network, having entered the \"disconnect
indication\" state after sending a disconnect message with the progress
indicator \#8, shall, upon expiry of timer T306, continue clearing by
sending a RELEASE message with the cause number originally contained in
the DISCONNECT message; starting timer T308; and entering the \"release
request\" state.

##### 5.4.4.1.2 Clearing when tones/announcements not provided

When in-band tones and announcements are not provided, the call control
entity of the network shall initiate call clearing by stopping all
running call control timers, sending a DISCONNECT message without
progress indicator, starting timer T305 and entering the \"disconnect
indication\" state.

##### 5.4.4.1.2.1 Receipt of a DISCONNECT message without progress indicator or with progress indicator different from \#8 from the network {#receipt-of-a-disconnect-message-without-progress-indicator-or-with-progress-indicator-different-from-8-from-the-network .H6}

The call control entity of the mobile station in any state except the
\"null\" state, the \"disconnect indication\" state, and the \"release
request\" state, shall, upon the receipt of a DISCONNECT message without
progress indicator information element or with progress indicator
different from \#8:

\- stop all running call control timers;

\- send a RELEASE message;

\- start timer T308; and

\- enter the \"release request\" state.

##### 5.4.4.1.2.2 Receipt of a RELEASE message from the mobile station {#receipt-of-a-release-message-from-the-mobile-station .H6}

The call control entity of the network in any state except the \"null\"
state and the \"release request\" state, shall, upon receipt of a
RELEASE message: stop all running call control timers; send a RELEASE
COMPLETE message; release the MM connection; and return to the \"null\"
state.

##### 5.4.4.1.2.3 Abnormal cases {#abnormal-cases-8 .H6}

The call control entity of the network, having entered the \"disconnect
indication\" state after sending a DISCONNECT message without progress
indicator or with progress indicator different from \#8, shall upon
expiry of timer T305: send a RELEASE message to the mobile station with
the cause number originally contained in the DISCONNECT message; start
timer T308; and enter the \"release request\" state. In addition to the
original clearing cause, the RELEASE message may contain a second cause
information element with cause \#102 \"recovery on timer expiry\".

##### 5.4.4.1.3 Completion of clearing

A call control entity of the mobile station in any call control state
shall, upon receipt of a RELEASE COMPLETE message from its peer entity
in the network: stop all running call control timers; release the MM
connection; and return to the \"null\" state.

##### 5.4.4.1.3.1 Abnormal cases {#abnormal-cases-9 .H6}

The call control entity of the mobile station in the \"release request\"
state shall at first expiry of timer T308 retransmit the RELEASE message
and restart timer T308. At second expiry of timer T308, the call control
entity of the mobile station shall: release the MM connection; and
return to the \"null\" state.

#### 5.4.4.2 Clearing initiated by the network: mobile supports \"Prolonged Clearing Procedure\"

Sublause 5.4.4.2 only applies to mobile stations that support the
\"Prolonged Clearing Procedure\" option.

##### 5.4.4.2.1 Clearing when tones/announcements provided and the network does not indicate that \"CCBS activation is possible\"

When in-band tones/announcements are provided (see subclause 5.5.1) and
CCBS is not applicable, the call control entity of the network may
initiate clearing by sending a DISCONNECT message containing progress
indicator \#8 \"in-band information or appropriate pattern now
available\", either not containing an *Allowed Actions* IE or containing
an *Allowed Actions* IE indicating \"CCBS activation is not possible\",
starting timer T306, and entering the \"disconnect indication\" state.

##### 5.4.4.2.1.1 Receipt of a DISCONNECT message {#receipt-of-a-disconnect-message .H6}

The call control entity of the MS in any state except the \"null\"
state, the \"disconnect indication\" state, and the \"release request\"
state, shall, upon receipt of a DISCONNECT message with progress
indicator \#8 and, either not containing an *Allowed Actions* IE or
containing an *Allowed Actions* IE indicating \"CCBS activation is not
possible\":

i\) if an appropriate speech traffic channel is not connected,

\- stop all running call control timers;

\- send a RELEASE message;

\- start timer T308;

\- enter the \"release request\" state; and

\- not connect to the in-band tone/announcement.

ii\) if an appropriate speech traffic channel is connected, attach the
user connection for speech if it is not yet attached and enter the
\"disconnect indication\" state. In that state, if upper layers request
the clearing of the call, the call control entity of the MS shall:

\- stop all running call control timers;

\- send a RELEASE message;

\- start timer T308; and

\- enter the \"release request\" state.

##### 5.4.4.2.1.2 Expiry of timer T306 {#expiry-of-timer-t306-1 .H6}

The call control entity of the network, having entered the \"disconnect
indication, shall, upon expiry of timer T306, continue clearing by
sending a RELEASE message with the cause number originally contained in
the DISCONNECT message; starting timer T308; and entering the \"release
request\" state.

##### 5.4.4.2.2 Clearing when the network indicates that \"CCBS activation is possible\"

When Activation of CCBS is possible, the call control entity of the
network may initiate clearing by sending a DISCONNECT message containing
the *Allowed Actions* IE with an indication that \"Activation of CCBS is
possible\" and starting T338. Optionally, progress indicator \#8
\"in-band information or appropriate pattern now available\" may also be
contained in the DISCONNECT message (in which case, T338 shall not be
greater than T306).

##### 5.4.4.2.2.1 Receipt of a DISCONNECT {#receipt-of-a-disconnect .H6}

Relative to the current state the following procedures apply:

\- The call control entity of the MS in the \"null\" state, the
\"disconnect indication\" state and the \"release request\" state,
shall, upon receipt of a DISCONNECT message react as described in clause
8.

\- The call control entity of the MS in the \"disconnect request\"
state, shall, upon receipt of a DISCONNECT message:

\- stop all running call control timers;

\- send a RELEASE message;

\- start timer T308; and

\- enter the \"release request\" state.

\- The call control entity of the MS in any other states, shall, upon
receipt of a DISCONNECT message with an *Allowed Actions* IE indicating
\"Activation of CCBS is possible\" pass the \"Activation of CCBS is
possible\" indication to the upper layer, enter the \"disconnect
indication\" state, stop all running call control timers and await a
response from the upper layers.

If the DISCONNECT message contained the progress indicator \#8 \"in-band
information or appropriate pattern now available\" and an appropriate
speech traffic channel is connected, then the MS shall attach the user
connection for speech if it is not yet attached. If the DISCONNECT
message did not contain the progress indicator \#8 \"in-band information
or appropriate pattern now available\" any connected speech traffic
channel shall be disconnected.

Response from the upper layers:

i\) If the upper layers request the clearing of the call, the call
control entity of the MS shall:

\- stop all running call control timers;

\- send a RELEASE message;

\- start timer T308; and

\- enter the \"release request\" state.

ii\) If the upper layers request that the \"CCBS activation is to be
attempted\" then the MS shall

\- send a RELEASE message containing a *Facility* IE including an

\- Invoke=CCBSRequest to the network;

\- stop all running call control timers;

\- start timer T308; and

\- enter the \"release request\" state.

If an appropriate speech traffic channel is connected, transmission of
this RELEASE message shall not cause it to be disconnected.

##### 5.4.4.2.2.2 Expiry of timer T338 {#expiry-of-timer-t338 .H6}

The call control entity of the network, having entered the \"disconnect
indication\" state after sending a DISCONNECT message with an *Allowed
Actions* IE indicating \"Activation of CCBS is possible\" shall, upon
expiry of timer T338, continue clearing by sending a RELEASE message
with the cause number originally contained in the DISCONNECT message;
starting timer T308; and entering the \"release request\" state.

##### 5.4.4.2.3 Clearing when tones/announcements are not provided and the network does not indicate that \"CCBS activation is possible\"

When in-band tones and announcements are not provided, and, the network
does not wish to indicate in the *Allowed Actions* IE that \"CCBS is
possible\", the call control entity of the network shall initiate call
clearing by stopping all running call control timers, sending a
DISCONNECT message without progress indicator, either without the
*Allowed Actions* IE or with the *Allowed Actions* IE indicating that
\"CCBS is not possible\", starting timer T305 and entering the
\"disconnect indication\" state.

##### 5.4.4.2.3.1 Receipt of a DISCONNECT message {#receipt-of-a-disconnect-message-1 .H6}

The call control entity of the mobile station in any state except the
\"null\" state, the \"disconnect indication\" state, and the \"release
request\" state, shall, upon the receipt of a DISCONNECT message either
without progress indicator information element or with progress
indicator different from \#8, and, either without the *Allowed Actions*
IE or with the *Allowed Actions* IE indicating that \"CCBS is not
possible\":

\- stop all running call control timers;

\- send a RELEASE message;

\- start timer T308; and

\- enter the \"release request\" state.

##### 5.4.4.2.3.2 Abnormal cases {#abnormal-cases-10 .H6}

The call control entity of the network, having entered the \"disconnect
indication\", shall upon expiry of timer T305: send a RELEASE message to
the mobile station with the cause number originally contained in the
DISCONNECT message; start timer T308; and enter the \"release request\"
state.

##### 5.4.4.2.4 Receipt of a RELEASE message from the mobile station

##### 5.4.4.2.4.1 Release, CCBS not requested {#release-ccbs-not-requested .H6}

For a network that does not support the \"CCBS activation\" option:

The call control entity of the network in any state except the \"null\"
state and the \"release request\" state, shall, upon receipt of a
RELEASE message: stop all running call control timers; send a RELEASE
COMPLETE message; release the MM connection; and return to the \"null\"
state.

For a network that does support the \"CCBS activation\" option:

The call control entity of the network in any state except the \"null\"
state and the \"release request\" state, shall, upon receipt of a
RELEASE message without a *Facility* IE including an Invoke=CCBSRequest:
stop all running call control timers; send a RELEASE COMPLETE message;
release the MM connection; and return to the \"null\" state.

##### 5.4.4.2.4.2 Release, CCBS Requested {#release-ccbs-requested .H6}

For a network that does not support the \"CCBS activation\" option:

The call control entity of the network in any state except the \"null\"
state and the \"release request\" state, shall, upon receipt of a
RELEASE message: stop all running call control timers; send a RELEASE
COMPLETE message; release the MM connection; and return to the \"null\"
state.

For a network that does support the \"CCBS activation\" option:

The call control entity of the network in any state except the \"null\"
state and the \"release request\" state, shall, upon receipt of a
RELEASE message containing a *Facility* IE including an
Invoke=CCBSRequest: stop all running call control timers; then attempt
to activate the recall; then send a RELEASE COMPLETE message indicating
the success or failure of the recall activation attempt; release the MM
connection; and return to the \"null\" state.

##### 5.4.4.2.5 Completion of clearing

A call control entity of the mobile station in any call control state
shall, upon receipt of a RELEASE COMPLETE message from its peer entity
in the network: stop all running call control timers; release the MM
connection; and return to the \"null\" state.

##### 5.4.4.2.5.1 Abnormal cases {#abnormal-cases-11 .H6}

The call control entity of the mobile station in the \"release request\"
state shall at first expiry of timer T308 retransmit the RELEASE message
and restart timer T308. At second expiry of timer T308, the call control
entity of the mobile station shall: release the MM connection; and
return to the \"null\" state.

The retransmitted RELEASE message need not contain the *Facility* IE
including an Invoke=CCBSRequest, even if the original RELEASE message
did contain this IE.5.4.5 Clear collision

Clear collision occurs when both the mobile station and the network
simultaneously transfer DISCONNECT messages specifying the same call.

The behaviour of the network call control entity receiving a DISCONNECT
message whilst in the \"disconnect indication\" state is specified in
subclause 5.4.3. The behaviour of the MS call control entity receiving a
DISCONNECT message whilst in the \"disconnect request\" state is defined
in subclause 5.4.4.

Clear collision can also occur when both sides simultaneously transfer
RELEASE messages related to the same call. The entity receiving such a
RELEASE message whilst within the \"release request\" state shall: stop
timer T308; release the MM connection; and enter the \"null\" state
(without sending a RELEASE COMPLETE message).

### 5.4.5 Call clearing for SRVCC from CS to PS

If the MS receives the request from upper layers to release the call
locally, the call control entity of the MS shall detach the user
connection, if connected, and enter the NULL state.

5.5 Miscellaneous procedures
----------------------------

### 5.5.1 In-band tones and announcements

When the network wants to make the mobile station attach the user
connection (e.g. in order to provide in-band tones/announcement) before
the mobile station has reached the \"active\" state of a call, the
network may include a *progress indicator* IE indicating user attachment
in a suitable CC message:

\- Either it includes the IE in a SETUP, CALL PROCEEDING, ALERTING, or
CONNECT message that is send during call establishment

\- it sends a PROGRESS message containing the IE.

A *progress indicator* IE indicates user attachment if it specifies a
progress description in the set {1, 2, 3} or in the set {6, 7, 8, \...,
20}.

On reception of a SETUP, CALL PROCEEDING, ALERTING, CONNECT, or PROGRESS
message the mobile station shall proceed as specified elsewhere in
clause 5; if the *progress indicator* IE indicated user attachment and a
speech mode traffic channel is appropriate for the call the mobile
station shall in addition: attach the user connection for speech as soon
as an appropriate channel in speech mode is available. (If a new order
to attach the user connection is received before the attachment has been
performed, the new order shall supersede the previous one.)

Under certain conditions the MS will have to attach the user connection
before the CONNECT message. It is up to the network to ensure that no
undesired end-to-end through connection takes place during the
establishment of a MT call.

NOTE: This allows the use of *progress indicator* IEs independently from
the channel modes appropriate for the call.

The network may generate multimedia CAT to a mobile station supporting
multimedia CAT during the alerting phase of a mobile originated
multimedia call establishment as specified in subclause 5.3.6.4.

### 5.5.2 Call collisions

Call collisions as such cannot occur at the network. Any simultaneous
mobile originating or mobile terminating calls are dealt with separately
assigned and different transaction identifiers.

### 5.5.3 Status procedures

#### 5.5.3.1 Status enquiry procedure

Whenever a call control entity wishes to check the call state of its
peer entity, it may initiate the status enquiry procedure.

NOTE: This may, in particular, apply to procedural error conditions
described in clause 8.

A call control entity initiates the status enquiry procedure by sending
the STATUS ENQUIRY message and starting timer T322. The value of T322 is
implementation dependent in the MS and set in the network by the network
operator. While timer T322 is running, the call control entity shall not
send further STATUS ENQUIRY messages.

Upon receipt of a STATUS ENQUIRY message, the receiver shall respond
with a STATUS message, reporting the current call state and cause value
\#30 \"response to STATUS ENQUIRY\". Receipt of the STATUS ENQUIRY shall
not result in a state change relating to any protocol and connection of
the receiver.

If a STATUS message is received that contains cause value \#30
\"response to status enquiry\", timer T322 shall be stopped and further
appropriate actions taken, based on the information in that STATUS
message, relative to the current state of the receiver of the STATUS
message. These further \"appropriate actions\" are implementation
dependent. However, the actions prescribed in subclause 5.5.3.2 shall
apply.

If a clearing message is received while timer T322 is running, timer
T322 shall be stopped, and call clearing shall continue.

If timer T322 expires, the STATUS ENQUIRY message may be retransmitted
maximally once. If T322 expires after the STATUS ENQUIRY has been
transmitted the maximum number of times, clearing of the call shall be
initiated with cause value \#41, \"temporary failure\", in the first
call clearing message.

#### 5.5.3.2 Reception of a STATUS message by a CC entity

##### 5.5.3.2.1 STATUS message with incompatible state

On receipt of a STATUS message reporting an incompatible call control
state, the receiving entity shall clear the call by sending a RELEASE
COMPLETE message with cause \# 101 \"message not compatible with
protocol state\". The reported call control state is incompatible if the
combination of call control states at the sender and receiver side
cannot occur, do not match or cannot be aligned by actions of the
receiver; the exact definition is implementation dependent.

##### 5.5.3.2.2 STATUS message with compatible state

A STATUS message may be received indicating a compatible call state but
containing one of the following causes:

\# 95 \"semantically incorrect message\"; or

\# 96 \"invalid mandatory information\"; or

\# 97 \"message type non-existent or not implemented\"; or

\# 98 \"message type not compatible with protocol state\"; or

\# 99 \"information element non-existent or not implemented\"; or

\# 100 \"conditional IE error\".

This indicates that the transmitter of the STATUS message was unable to
accept some information sent by the recipient of the STATUS message.
This allow the recipient to retransmit some or all of the information.
Other actions are possible and are implementation dependent; they may
include releasing the call.

In the case the MS receives a STATUS message with the cause \#100 due to
the presence of a Repeat Indicator with the value \"service change and
fallback\" in a SETUP message, it may then resend a new SETUP message
with a single BC-IE (no Repeat Indicator is included). The actual
behaviour is dependent on the implementation.

In the case the network receives a STATUS message with the cause \#100
due to the presence of a Repeat Indicator with the value "service change
and fallback" in a SETUP message, it shall then resend a new SETUP
message, with either the BC-IE of the preferred service or the speech
BC-IE (fallback to speech) as the only BC (no Repeat Indicator is
included). The preferred behaviour is decided by configuration.

### 5.5.4 Call re-establishment, mobile station side

This subclause describes the internal handling in the mobile station as
far as call control is concerned.

#### 5.5.4.1 Indication from the mobility management sublayer

When a MM connection is active, an indication may be given by the MM
sublayer to the call control entity to announce that the current MM
connection has been interrupted but might be re-established on request
of call control.

#### 5.5.4.2 Reaction of call control

Depending whether call re-establishment is allowed or not and on its
actual state, call control shall decide to either request
re-establishment or to release the MM connection.

a\) Re-establishment not required

If the call is in the call establishment or call clearing phase, i.e.
any state other than the \"active\" state or the \"mobile originating
modify\" state, call control shall release the MM connection

b\) Re-establishment required

If the call is in the \"active\" state or \"mobile originating modify\"
state, the indication from MM that re-establishment is possible shall
cause call control to request re-establishment from the MM connection,
suspend any further message to be sent and await the completion of the
re-establishment procedure.

#### 5.5.4.3 Completion of re-establishment

Call Control is notified when the MM connection is re-established and
shall then resume the transmission of possibly suspended messages and
resume user data exchange when an appropriate channel is available.

#### 5.5.4.4 Unsuccessful outcome

If the attempt to re-establish the connection was unsuccessful, the MM
connection will be released and a release indication will be given to
call control, see subclause 4.5.1.6.

### 5.5.5 Call re-establishment, network side

This subclause describes the handling in the network as far as call
control is concerned.

#### 5.5.5.1 State alignment

After a successful call re-establishment it is a network responsibility
to identify (e.g. by using the status enquiry procedure, if needed, and
resolve, if possible, any call state or auxiliary state mismatch between
the network and the mobile station.

### 5.5.6 Progress

At any time during the establishment or release of a call and during an
active call the network may send a PROGRESS message to the mobile
station.

On receipt of a PROGRESS message during the establishment or release of
a call the mobile station shall stop all call control timers related to
that call.

NOTE: If the PROGRESS has been received before the receipt of a CALL
PROCEEDING message, the mobile station will not start timer T310 on
receipt of a CALL PROCEEDING message, see subclause 5.2.1.1.3.

![](media/image41.png){width="2.5in" height="0.5972222222222222in"}

Figure 5.11/3GPP TS 24.008 Progress

### 5.5.7 DTMF protocol control procedure

Dual Tone Multi Frequency (DTMF) is an inband one out of four plus one
out of four signalling system primarily used from terminal instruments
in telecommunication networks. The support of DTMF in the network is
described in 3GPP TS 23.014 \[12\].

The mobile station shall be capable of transmitting DTMF messages as
specified in this subclause if and only if the mobile station has the
user connection for speech attached and an appropriate channel is
available.

The transaction identifier used by the DTMF messages shall be that of
the attached speech call.

NOTE 1: The present document means that DTMF messages can generally be
sent in the active state of a call in speech transmission mode or when a
traffic channel is available during setup or release and the *progress
indicator* IE has been received.

NOTE 2: Since the DTMF protocol messages are sent in a store and forward
mode on the signalling channels the control of the device at the far end
may be delayed dependent on the load or quality of the channels.

NOTE 3: The procedures described in this paragraph support DTMF only in
the direction mobile station to network.

A mobile station supporting multimedia CAT during the alerting phase of
a mobile originated multimedia call establishment should also be capable
of transmitting DTMFs during a multimedia call as specified in
subclause 5.3.6.5.

#### 5.5.7.1 Start DTMF request by the mobile station

A user may cause a DTMF tone to be generated e.g. by depression of a key
in the mobile station. The relevant action is interpreted by the mobile
station as a requirement for a DTMF digit to be sent in a START DTMF
message on an established FACCH. This message contains the value of the
digit to be transmitted (0, 1, \..., 9, A, B, C, D, \*, \#).

Only a single digit will be transferred in each START DTMF message.

On sending a START DTMF message the MS shall start timer T336.

Where a previous START DTMF message has been sent, another START DTMF
message shall only be sent by the MS following receipt of its STOP DTMF
ACKNOWLEDGE message (see subclause 5.5.7.4) or a START DTMF REJECT
message from the network (see subclause 5.5.7.2) or following the expiry
of timers T336 and T337.

If timer T336 expires, the MS shall terminate the ongoing DTMF procedure
without any retransmissions, and is free to begin another DTMF procedure
(e.g. another START DTMF message).

#### 5.5.7.2 Start DTMF response by the network

Upon receiving the START DTMF message the network shall either:

\- convert the received digit into a DTMF tone which is applied toward
the remote user, or

\- send the DTMF digit as an out-of-band message (see
3GPP TS 23.205 \[96\])

and return a START DTMF ACKNOWLEDGE message to the mobile station. This
acknowledgement may be used in the mobile station to generate an
indication as a feedback for a successful transmission.

If the network cannot accept the START DTMF message a START DTMF REJECT
message will be sent to the mobile station. Upon receipt of a START DTMF
ACK message or a START DTMF REJECT message, the MS shall stop timer
T336.

#### 5.5.7.3 Stop DTMF request by the mobile station

When the user indicates that the DTMF sending should cease e.g. by
releasing the key the mobile station will send a STOP DTMF message to
the network.

On sending a STOP DTMF message the MS shall start timer T337.

The MS shall only send a STOP DTMF message if a START DTMF ACKNOWLEDGE
message has been received from the network (see subclause 5.5.7.2).

If timer T337 expires, the MS shall terminate the ongoing DTMF procedure
without any retransmissions, and is free to begin another DTMF
procedure. (e.g. another START DTMF message).

#### 5.5.7.4 Stop DTMF response by the network

Upon receiving the STOP DTMF message the network shall either:

\- stop sending the DTMF tone if applied by the network, or

\- initiate a suitable out-of-band message (see 3GPP TS 23.205 \[96\])

and return a STOP DTMF ACKNOWLEDGE message to the mobile station. Upon
receipt of a STOP DTMF ACKNOWLEDGE message, the MS shall stop timer
T337.

#### 5.5.7.5 Sequencing of subsequent start DTMF requests by the mobile station

If the network is generating DTMF tones it shall ensure that the minimum
length of tone and the minimum gap between two subsequent tones
(according to ETSI ES 201 235-2 \[12a\]) is achieved.

NOTE 1: In ETSI ES 201 235-2 \[12a\] the minimum duration of a DTMF tone
is 65ms.

NOTE 2: In ETSI ES 201 235-2 \[12a\] the minimum gap between DTMF tones
is 65ms.

There is no defined maximum length to the tone, which will normally
cease when a STOP DTMF message is received from the MS. However, the
operator may choose to put a pre-defined time limit on the duration of
tones sent.

The appropriate sequencing of DTMF control messages is shown in
figures 5.8 and 5.9.

NOTE 3: The network may implement the time limit option where the DTMF
tone duration is controlled by the network irrespective of the receipt
of a STOP DTMF message from the mobile station.

![](media/image42.png){width="3.6527777777777777in"
height="1.3333333333333333in"}

Figure 5.8/3GPP TS 24.008 Single DTMF transmission

![](media/image43.png){width="3.611111111111111in"
height="2.1805555555555554in"}

Figure 5.9/3GPP TS 24.008 Multiple DTMF transmission
